<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Analysis: HumanFactors.RayTracing.EmbreeRaytracer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome-css.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Analysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">HumanFactors.RayTracing.EmbreeRaytracer Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Cast rays with Intel's Embree raytracing library.  
 <a href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:afc149e5c713d0fcce5d142c82fd7e292"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#afc149e5c713d0fcce5d142c82fd7e292">IntersectForPoint</a> (<a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> bvh, float x, float y, float z, float dx, float dy, float dz, float max_distance=-1)</td></tr>
<tr class="memdesc:afc149e5c713d0fcce5d142c82fd7e292"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cast a single ray, and get a point in return if it intersects any geometry.  <a href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#afc149e5c713d0fcce5d142c82fd7e292">More...</a><br /></td></tr>
<tr class="separator:afc149e5c713d0fcce5d142c82fd7e292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6fd1eb3e172c59014d6b1b24a2c1c9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#a2d6fd1eb3e172c59014d6b1b24a2c1c9">IntersectForPoint</a> (<a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> bvh, <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> origin, <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> direction, float max_distance=-1)</td></tr>
<tr class="memdesc:a2d6fd1eb3e172c59014d6b1b24a2c1c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cast a single ray, and get a point in return if it intersects any geometry.  <a href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#a2d6fd1eb3e172c59014d6b1b24a2c1c9">More...</a><br /></td></tr>
<tr class="separator:a2d6fd1eb3e172c59014d6b1b24a2c1c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbcfb9d4e5dc08c6e5ba95c5356d8a72"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#adbcfb9d4e5dc08c6e5ba95c5356d8a72">IntersectForPoints</a> (<a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> bvh, IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt; origins, IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt; directions, float max_distance=-1)</td></tr>
<tr class="memdesc:adbcfb9d4e5dc08c6e5ba95c5356d8a72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cast multiple rays and recieve hitpoints in return.  <a href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#adbcfb9d4e5dc08c6e5ba95c5356d8a72">More...</a><br /></td></tr>
<tr class="separator:adbcfb9d4e5dc08c6e5ba95c5356d8a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929f4285ca85814545d3f0b30cc26048"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_human_factors_1_1_ray_tracing_1_1_ray_result.html">RayResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#a929f4285ca85814545d3f0b30cc26048">IntersectForDistance</a> (<a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> bvh, <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> origin, <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> direction, float max_distance=-1)</td></tr>
<tr class="memdesc:a929f4285ca85814545d3f0b30cc26048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cast a single ray and get the distance to its hit and the meshID if it hit anything.  <a href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#a929f4285ca85814545d3f0b30cc26048">More...</a><br /></td></tr>
<tr class="separator:a929f4285ca85814545d3f0b30cc26048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04dd5147c6613ec137069bf2fdaa0e73"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_human_factors_1_1_ray_tracing_1_1_ray_results.html">RayResults</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#a04dd5147c6613ec137069bf2fdaa0e73">IntersectForDistances</a> (<a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> bvh, IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt; origins, IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt; directions, float max_distance=-1)</td></tr>
<tr class="memdesc:a04dd5147c6613ec137069bf2fdaa0e73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cast multiple rays and recieve the distance and meshid of geometry intersected by each in return.  <a href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#a04dd5147c6613ec137069bf2fdaa0e73">More...</a><br /></td></tr>
<tr class="separator:a04dd5147c6613ec137069bf2fdaa0e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dfde2e8c107a3aae8943d96222d35fa"><td class="memItemLeft" align="right" valign="top">static bool[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#a5dfde2e8c107a3aae8943d96222d35fa">IntersectOccluded</a> (<a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> bvh, IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt; origin, IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt; direction, float max_distance=-1)</td></tr>
<tr class="memdesc:a5dfde2e8c107a3aae8943d96222d35fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if any geometry occludes a point from a direction.  <a href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#a5dfde2e8c107a3aae8943d96222d35fa">More...</a><br /></td></tr>
<tr class="separator:a5dfde2e8c107a3aae8943d96222d35fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Cast rays with Intel's Embree raytracing library. </p>
<dl class="section remark"><dt>Remarks</dt><dd>All functions in this class first require the creation of an <a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html" title="A Bounding Volume Hierarchy for the EmbreeRaytracer.">EmbreeBVH</a> with valid mesh geometry.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_human_factors_1_1_geometry_1_1_mesh_info.html" title="A collection of vertices and indices representing geometry.">Geometry.MeshInfo</a> for details on converting a mesh to a format that <a class="el" href="namespace_human_factors.html" title="Automated analysis of the built environent">HumanFactors</a> can interpret </dd>
<dd>
<a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html" title="A Bounding Volume Hierarchy for the EmbreeRaytracer.">EmbreeBVH</a> for details on generating a BVH from geometry. </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a929f4285ca85814545d3f0b30cc26048" name="a929f4285ca85814545d3f0b30cc26048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a929f4285ca85814545d3f0b30cc26048">&#9670;&nbsp;</a></span>IntersectForDistance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="struct_human_factors_1_1_ray_tracing_1_1_ray_result.html">RayResult</a> HumanFactors.RayTracing.EmbreeRaytracer.IntersectForDistance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>&#160;</td>
          <td class="paramname"><em>bvh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_distance</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cast a single ray and get the distance to its hit and the meshID if it hit anything. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bvh</td><td>A valid BVH containing the geometry to intersect with. </td></tr>
    <tr><td class="paramname">origin</td><td>x,y,z coordinates for the ray's origin point. </td></tr>
    <tr><td class="paramname">direction</td><td>x,y,z coordinates for the direction for the ray to be casted in. </td></tr>
    <tr><td class="paramname">max_distance</td><td>Maximum distance to consider for intersection. Set to -1 for infinite.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>This can be faster than <a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#adbcfb9d4e5dc08c6e5ba95c5356d8a72">IntersectForPoints</a>, as the data returned is lighter. If you only need the distance or meshID, this function is recommended.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="struct_human_factors_1_1_ray_tracing_1_1_ray_result.html" title="MeshID and Distance for a casted ray.">RayResult</a> containing the distance to the hitpoint and meshid it hit. If the distance is equal to -1, then the ray did not intersect any geometry.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"> </div>
<div class="line">            <span class="comment">// Load an OBJ from a filepath  into a new meshinfo instance</span></div>
<div class="line">            <span class="keywordtype">string</span> good_mesh_path = <span class="stringliteral">&quot;ExampleModels/plane.obj&quot;</span>;</div>
<div class="line">            MeshInfo Mesh = OBJLoader.LoadOBJ(good_mesh_path, CommonRotations.Yup_To_Zup);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Construct a BVH from the mesh</span></div>
<div class="line">            <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> BVH = <span class="keyword">new</span> <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>(Mesh);</div>
<div class="line"> </div>
<div class="ttc" id="aclass_human_factors_1_1_ray_tracing_1_1_embree_b_v_h_html"><div class="ttname"><a href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">HumanFactors.RayTracing.EmbreeBVH</a></div><div class="ttdoc">A Bounding Volume Hierarchy for the EmbreeRaytracer.</div><div class="ttdef"><b>Definition:</b> EmbreeBVH.cs:31</div></div>
</div><!-- fragment --> <div class="fragment"><div class="line">           </div>
<div class="line">            <span class="comment">// Create origin and direction to cast ray straight down at the plane</span></div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> origin = <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>(0, 0, 1);</div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> direction = <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>(0, 0, -1);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Cast ray and get the distance/MeshID</span></div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_ray_tracing_1_1_ray_result.html">RayResult</a> result = <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html">EmbreeRaytracer</a>.<a class="code hl_function" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#a929f4285ca85814545d3f0b30cc26048">IntersectForDistance</a>(BVH, origin, direction);</div>
<div class="line">            </div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Print the distance/MeshID</span></div>
<div class="line">            Debug.WriteLine(result);</div>
<div class="line"> </div>
<div class="ttc" id="aclass_human_factors_1_1_ray_tracing_1_1_embree_raytracer_html"><div class="ttname"><a href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html">HumanFactors.RayTracing.EmbreeRaytracer</a></div><div class="ttdoc">Cast rays with Intel's Embree raytracing library.</div><div class="ttdef"><b>Definition:</b> EmbreeRayTracer.cs:41</div></div>
<div class="ttc" id="aclass_human_factors_1_1_ray_tracing_1_1_embree_raytracer_html_a929f4285ca85814545d3f0b30cc26048"><div class="ttname"><a href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#a929f4285ca85814545d3f0b30cc26048">HumanFactors.RayTracing.EmbreeRaytracer.IntersectForDistance</a></div><div class="ttdeci">static RayResult IntersectForDistance(EmbreeBVH bvh, Vector3D origin, Vector3D direction, float max_distance=-1)</div><div class="ttdoc">Cast a single ray and get the distance to its hit and the meshID if it hit anything.</div></div>
<div class="ttc" id="astruct_human_factors_1_1_ray_tracing_1_1_ray_result_html"><div class="ttname"><a href="struct_human_factors_1_1_ray_tracing_1_1_ray_result.html">HumanFactors.RayTracing.RayResult</a></div><div class="ttdoc">MeshID and Distance for a casted ray.</div><div class="ttdef"><b>Definition:</b> RayResultStructs.cs:20</div></div>
<div class="ttc" id="astruct_human_factors_1_1_vector3_d_html"><div class="ttname"><a href="struct_human_factors_1_1_vector3_d.html">HumanFactors.Vector3D</a></div><div class="ttdoc">A three dimensional vector with built in utility functions.</div><div class="ttdef"><b>Definition:</b> CommonTypes.cs:40</div></div>
</div><!-- fragment --> <code>[1,0]</code> </dd></dl>

</div>
</div>
<a id="a04dd5147c6613ec137069bf2fdaa0e73" name="a04dd5147c6613ec137069bf2fdaa0e73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04dd5147c6613ec137069bf2fdaa0e73">&#9670;&nbsp;</a></span>IntersectForDistances()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_human_factors_1_1_ray_tracing_1_1_ray_results.html">RayResults</a> HumanFactors.RayTracing.EmbreeRaytracer.IntersectForDistances </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>&#160;</td>
          <td class="paramname"><em>bvh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt;&#160;</td>
          <td class="paramname"><em>origins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt;&#160;</td>
          <td class="paramname"><em>directions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_distance</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cast multiple rays and recieve the distance and meshid of geometry intersected by each in return. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bvh</td><td>A valid BVH containing geometry to intersect with. </td></tr>
    <tr><td class="paramname">origins</td><td>A list of x, y, z coordinates to cast rays in. </td></tr>
    <tr><td class="paramname">directions</td><td>A list of x, y, z directions to cast in. </td></tr>
    <tr><td class="paramname">max_distance</td><td>Maximum distance to consider for intersection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array of <a class="el" href="class_human_factors_1_1_ray_tracing_1_1_ray_results.html" title="An array of RayResults stored in unmanaged memory .">RayResults</a> for the hitpoint of each ray casted in order. If a ray didn't intersect any geometry, then its distance and meshid will be -1.</dd></dl>
<p>Can be casted in 3 configurations: </p>
<ul>
<li>
Equal amount of directions/origins: Cast a ray for every pair of origin/direction in order.i.e. (origin[0], direction[0]), (origin[1], direction[1]), etc.  </li>
<li>
One direction, multiple origins: Cast a ray in the given direction from each origin point in origins.  </li>
<li>
One origin, multiple directions: Cast a ray from the origin point in each direction in directions  </li>
</ul>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">System.ArgumentException</td><td>Length of directions and origins did not match any of the valid cases. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"> </div>
<div class="line">            <span class="comment">// Load an OBJ from a filepath  into a new meshinfo instance</span></div>
<div class="line">            <span class="keywordtype">string</span> good_mesh_path = <span class="stringliteral">&quot;ExampleModels/plane.obj&quot;</span>;</div>
<div class="line">            MeshInfo Mesh = OBJLoader.LoadOBJ(good_mesh_path, CommonRotations.Yup_To_Zup);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Construct a BVH from the mesh</span></div>
<div class="line">            <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> BVH = <span class="keyword">new</span> <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>(Mesh);</div>
<div class="line"> </div>
</div><!-- fragment --> <div class="fragment"><div class="line"> </div>
<div class="line">            <span class="comment">// Construct origin/distance arrays</span></div>
<div class="line">            <span class="keywordtype">int</span> num_rays = 6;</div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>[] origin_vector = <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>[num_rays];</div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>[] direction_vector = <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>[num_rays];</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_rays; i++)</div>
<div class="line">            {</div>
<div class="line">                origin_vector[i] = <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>(0, 0, i);</div>
<div class="line">                direction_vector[i] = <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>(0, 0, -1);</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            <span class="comment">// Cast rays and get results</span></div>
<div class="line">            <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_ray_results.html">RayResults</a> results = <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html">EmbreeRaytracer</a>.<a class="code hl_function" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#a04dd5147c6613ec137069bf2fdaa0e73">IntersectForDistances</a>(BVH, origin_vector, direction_vector);</div>
<div class="line">                </div>
<div class="line">            <span class="comment">// Print Results. The distance should equal the origin&#39;s z value, except for the first one, which</span></div>
<div class="line">            <span class="comment">// should miss since it&#39;s inside the plane</span></div>
<div class="line">            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; num_rays; i++)</div>
<div class="line">                Debug.WriteLine(<span class="stringliteral">&quot;Origin: {0}, Result: {1}&quot;</span>, origin_vector[i], results[i]);</div>
<div class="line"> </div>
<div class="ttc" id="aclass_human_factors_1_1_ray_tracing_1_1_embree_raytracer_html_a04dd5147c6613ec137069bf2fdaa0e73"><div class="ttname"><a href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#a04dd5147c6613ec137069bf2fdaa0e73">HumanFactors.RayTracing.EmbreeRaytracer.IntersectForDistances</a></div><div class="ttdeci">static RayResults IntersectForDistances(EmbreeBVH bvh, IEnumerable&lt; Vector3D &gt; origins, IEnumerable&lt; Vector3D &gt; directions, float max_distance=-1)</div><div class="ttdoc">Cast multiple rays and recieve the distance and meshid of geometry intersected by each in return.</div></div>
<div class="ttc" id="aclass_human_factors_1_1_ray_tracing_1_1_ray_results_html"><div class="ttname"><a href="class_human_factors_1_1_ray_tracing_1_1_ray_results.html">HumanFactors.RayTracing.RayResults</a></div><div class="ttdoc">An array of RayResults stored in unmanaged memory .</div><div class="ttdef"><b>Definition:</b> RayResultStructs.cs:44</div></div>
</div><!-- fragment --> <div class="fragment"><div class="line">Origin: (0, 0, 0), Result: [-1,-1]</div>
<div class="line">Origin: (0, 0, 1), Result: [1,0]</div>
<div class="line">Origin: (0, 0, 2), Result: [2,0]</div>
<div class="line">Origin: (0, 0, 3), Result: [3,0]</div>
<div class="line">Origin: (0, 0, 4), Result: [4,0]</div>
<div class="line">Origin: (0, 0, 5), Result: [5,0]</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="afc149e5c713d0fcce5d142c82fd7e292" name="afc149e5c713d0fcce5d142c82fd7e292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc149e5c713d0fcce5d142c82fd7e292">&#9670;&nbsp;</a></span>IntersectForPoint() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> HumanFactors.RayTracing.EmbreeRaytracer.IntersectForPoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>&#160;</td>
          <td class="paramname"><em>bvh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_distance</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cast a single ray, and get a point in return if it intersects any geometry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bvh</td><td>BVH of geometry to intersect. </td></tr>
    <tr><td class="paramname">x</td><td>x component of the ray's origin point </td></tr>
    <tr><td class="paramname">y</td><td>y component of the ray's origin point </td></tr>
    <tr><td class="paramname">z</td><td>z component of the ray's origin point </td></tr>
    <tr><td class="paramname">dx</td><td>x component of the ray's direction </td></tr>
    <tr><td class="paramname">dy</td><td>y component of the ray's direction </td></tr>
    <tr><td class="paramname">dz</td><td>z component of the ray's direction </td></tr>
    <tr><td class="paramname">max_distance</td><td>Maximum distance to consider for intersections. Set to -1 for infinite</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Consider calling <a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#adbcfb9d4e5dc08c6e5ba95c5356d8a72">IntersectForPoints</a> when casting mutliple rays at once since it can make use of parallel processing to drastically reduce the time it takes to cast each ray.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="struct_human_factors_1_1_vector3_d.html" title="A three dimensional vector with built in utility functions.">Vector3D</a> containing the hitpoint. If no hit was detected, the point will be invalid. This can easily be checked using <a class="el" href="struct_human_factors_1_1_vector3_d.html#ad5ca9e5b9921fc94c5cbdb139a33cc54" title="Check if this vector is valid.">Vector3D.IsValid</a>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"> </div>
<div class="line">            <span class="comment">// Load an OBJ from a filepath  into a new meshinfo instance</span></div>
<div class="line">            <span class="keywordtype">string</span> good_mesh_path = <span class="stringliteral">&quot;ExampleModels/plane.obj&quot;</span>;</div>
<div class="line">            MeshInfo Mesh = OBJLoader.LoadOBJ(good_mesh_path, CommonRotations.Yup_To_Zup);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Construct a BVH from the mesh</span></div>
<div class="line">            <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> BVH = <span class="keyword">new</span> <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>(Mesh);</div>
<div class="line"> </div>
</div><!-- fragment --> <div class="fragment"><div class="line"> </div>
<div class="line">            <span class="comment">// Define an origin and direction</span></div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> origin = <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>(0, 0, 1);</div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> direction = <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>(0, 0, -1);</div>
<div class="line">            </div>
<div class="line">            <span class="comment">// Cast a ray from origin an direction and get the point</span></div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> good_point = <a class="code hl_namespace" href="namespace_human_factors.html">HumanFactors</a>.<a class="code hl_namespace" href="namespace_human_factors_1_1_ray_tracing.html">RayTracing</a>.<a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html">EmbreeRaytracer</a>.<a class="code hl_function" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#afc149e5c713d0fcce5d142c82fd7e292">IntersectForPoint</a>(BVH, origin, direction, -1);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Print the point</span></div>
<div class="line">            Debug.WriteLine(good_point);</div>
<div class="line">            </div>
<div class="ttc" id="aclass_human_factors_1_1_ray_tracing_1_1_embree_raytracer_html_afc149e5c713d0fcce5d142c82fd7e292"><div class="ttname"><a href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#afc149e5c713d0fcce5d142c82fd7e292">HumanFactors.RayTracing.EmbreeRaytracer.IntersectForPoint</a></div><div class="ttdeci">static Vector3D IntersectForPoint(EmbreeBVH bvh, float x, float y, float z, float dx, float dy, float dz, float max_distance=-1)</div><div class="ttdoc">Cast a single ray, and get a point in return if it intersects any geometry.</div></div>
<div class="ttc" id="anamespace_human_factors_1_1_ray_tracing_html"><div class="ttname"><a href="namespace_human_factors_1_1_ray_tracing.html">HumanFactors.RayTracing</a></div><div class="ttdoc">Cast rays to determine if and where they intersect geometry.</div><div class="ttdef"><b>Definition:</b> EmbreeBVH.cs:7</div></div>
<div class="ttc" id="anamespace_human_factors_html"><div class="ttname"><a href="namespace_human_factors.html">HumanFactors</a></div><div class="ttdoc">Automated analysis of the built environent</div><div class="ttdef"><b>Definition:</b> CommonTypes.cs:9</div></div>
</div><!-- fragment --> <code>(0, 0, 0)</code> <div class="fragment"><div class="line">           </div>
<div class="line">            <span class="comment">// Do the same in a direction we know will miss</span></div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> bad_direction = <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>(0, 0, 1);</div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> bad_point = <a class="code hl_namespace" href="namespace_human_factors.html">HumanFactors</a>.<a class="code hl_namespace" href="namespace_human_factors_1_1_ray_tracing.html">RayTracing</a>.<a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html">EmbreeRaytracer</a>.<a class="code hl_function" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#afc149e5c713d0fcce5d142c82fd7e292">IntersectForPoint</a>(BVH, origin, bad_direction, -1);</div>
<div class="line">           </div>
<div class="line">            <span class="comment">// Print the result of the missed ray</span></div>
<div class="line">            Debug.WriteLine(bad_point);</div>
<div class="line">            </div>
</div><!-- fragment --> <code>(NaN, NaN, NaN)</code> </dd></dl>

</div>
</div>
<a id="a2d6fd1eb3e172c59014d6b1b24a2c1c9" name="a2d6fd1eb3e172c59014d6b1b24a2c1c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d6fd1eb3e172c59014d6b1b24a2c1c9">&#9670;&nbsp;</a></span>IntersectForPoint() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> HumanFactors.RayTracing.EmbreeRaytracer.IntersectForPoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>&#160;</td>
          <td class="paramname"><em>bvh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_distance</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cast a single ray, and get a point in return if it intersects any geometry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bvh</td><td>BVH of geometry to intersect. </td></tr>
    <tr><td class="paramname">origin</td><td>Origin point to cast the ray from. </td></tr>
    <tr><td class="paramname">direction</td><td>direction to cast the ray in. </td></tr>
    <tr><td class="paramname">max_distance</td><td>Maximum distance to consider for intersections.Set to -1 for infinite</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="struct_human_factors_1_1_vector3_d.html" title="A three dimensional vector with built in utility functions.">Vector3D</a> containing the hitpoint. If no hit was detected, the point will be invalid. This can easily be checked using <a class="el" href="struct_human_factors_1_1_vector3_d.html#ad5ca9e5b9921fc94c5cbdb139a33cc54" title="Check if this vector is valid.">Vector3D.IsValid</a>.</dd></dl>
<p>This calls the other overload with the components of origin and direction.</p>
<dl class="section remark"><dt>Remarks</dt><dd>Consider calling <a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#adbcfb9d4e5dc08c6e5ba95c5356d8a72">IntersectForPoints</a> when casting mutliple rays at once since it can make use of parallel processing to drastically reduce the time it takes to get the results of every ray.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"> </div>
<div class="line">            <span class="comment">// Load an OBJ from a filepath  into a new meshinfo instance</span></div>
<div class="line">            <span class="keywordtype">string</span> good_mesh_path = <span class="stringliteral">&quot;ExampleModels/plane.obj&quot;</span>;</div>
<div class="line">            MeshInfo Mesh = OBJLoader.LoadOBJ(good_mesh_path, CommonRotations.Yup_To_Zup);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Construct a BVH from the mesh</span></div>
<div class="line">            <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> BVH = <span class="keyword">new</span> <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>(Mesh);</div>
<div class="line"> </div>
</div><!-- fragment --> <div class="fragment"><div class="line"> </div>
<div class="line">            <span class="comment">// Define the X,Y,Z coordinates for the origin and direction</span></div>
<div class="line">            <span class="keywordtype">float</span> x = 0; <span class="keywordtype">float</span> y = 0; <span class="keywordtype">float</span> z = 1;</div>
<div class="line">            <span class="keywordtype">float</span> dx = 0; <span class="keywordtype">float</span> dy = 0; <span class="keywordtype">float</span> dz = -1;           </div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Cast a ray from origin an direction and get the point</span></div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> good_point = <a class="code hl_namespace" href="namespace_human_factors.html">HumanFactors</a>.<a class="code hl_namespace" href="namespace_human_factors_1_1_ray_tracing.html">RayTracing</a>.<a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html">EmbreeRaytracer</a>.<a class="code hl_function" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#afc149e5c713d0fcce5d142c82fd7e292">IntersectForPoint</a>(</div>
<div class="line">                BVH, x, y, z, dx, dy, dz, -1</div>
<div class="line">           );</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Print the point</span></div>
<div class="line">            Debug.WriteLine(good_point);</div>
<div class="line"> </div>
</div><!-- fragment --> <code>(0, 0, 0)</code> <div class="fragment"><div class="line"> </div>
<div class="line">            <span class="comment">// Do the same in a direction we know will miss</span></div>
<div class="line">            <span class="keywordtype">float</span> bad_dir_x = 0; <span class="keywordtype">float</span> bad_dir_y = 0; <span class="keywordtype">float</span> bad_dir_z = 1;</div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> bad_point = <a class="code hl_namespace" href="namespace_human_factors.html">HumanFactors</a>.<a class="code hl_namespace" href="namespace_human_factors_1_1_ray_tracing.html">RayTracing</a>.<a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html">EmbreeRaytracer</a>.<a class="code hl_function" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#afc149e5c713d0fcce5d142c82fd7e292">IntersectForPoint</a>(</div>
<div class="line">                BVH, x, y, z, bad_dir_x, bad_dir_y, bad_dir_z, -1</div>
<div class="line">           );</div>
<div class="line">            <span class="comment">// Print the result of the missed ray</span></div>
<div class="line">            Debug.WriteLine(bad_point);</div>
<div class="line"> </div>
</div><!-- fragment --> <code>(NaN, NaN, NaN)</code> </dd></dl>

</div>
</div>
<a id="adbcfb9d4e5dc08c6e5ba95c5356d8a72" name="adbcfb9d4e5dc08c6e5ba95c5356d8a72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbcfb9d4e5dc08c6e5ba95c5356d8a72">&#9670;&nbsp;</a></span>IntersectForPoints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>[] HumanFactors.RayTracing.EmbreeRaytracer.IntersectForPoints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>&#160;</td>
          <td class="paramname"><em>bvh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt;&#160;</td>
          <td class="paramname"><em>origins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt;&#160;</td>
          <td class="paramname"><em>directions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_distance</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cast multiple rays and recieve hitpoints in return. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bvh</td><td>A valid BVH containing geometry to intersect with. </td></tr>
    <tr><td class="paramname">origins</td><td>A list of x,y,z coordinates to cast rays in. </td></tr>
    <tr><td class="paramname">directions</td><td>A list of x,y,z directions to cast in. </td></tr>
    <tr><td class="paramname">max_distance</td><td>Maximum distance to consider for intersection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array of <a class="el" href="struct_human_factors_1_1_vector3_d.html" title="A three dimensional vector with built in utility functions.">Vector3D</a> for the hitpoint of each ray casted in order. If a ray didn't intersect any geometry, then its point will be invalid, checkable using <a class="el" href="struct_human_factors_1_1_vector3_d.html#ad5ca9e5b9921fc94c5cbdb139a33cc54" title="Check if this vector is valid.">Vector3D.IsValid()</a></dd></dl>
<p>Can be casted in 3 configurations: </p>
<ul>
<li>
Equal amount of directions/origins: Cast a ray for every pair of origin/direction in order. i.e. (origin[0], direction[0]), (origin[1], direction[1]), etc.  </li>
<li>
One direction, multiple origins: Cast a ray in the given direction from each origin point in origins.  </li>
<li>
One origin, multiple directions: Cast a ray from the origin point in each direction in directions.  </li>
</ul>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">System.ArgumentException</td><td>Length of directions and origins did not match any of the valid cases.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"> </div>
<div class="line">            <span class="comment">// Load an OBJ from a filepath  into a new meshinfo instance</span></div>
<div class="line">            <span class="keywordtype">string</span> good_mesh_path = <span class="stringliteral">&quot;ExampleModels/plane.obj&quot;</span>;</div>
<div class="line">            MeshInfo Mesh = OBJLoader.LoadOBJ(good_mesh_path, CommonRotations.Yup_To_Zup);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Construct a BVH from the mesh</span></div>
<div class="line">            <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> BVH = <span class="keyword">new</span> <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>(Mesh);</div>
<div class="line"> </div>
</div><!-- fragment --> <div class="fragment"><div class="line"> </div>
<div class="line">            <span class="keywordtype">int</span> num_points = 5;</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Create and fill a vector of origins and directions</span></div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>[] origin_vector = <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>[num_points];</div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>[] direction_vector = <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>[num_points];</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_points; i++)</div>
<div class="line">            {</div>
<div class="line">                origin_vector[i] = <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>(0, i, 1);</div>
<div class="line">                direction_vector[i] = <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>(0, 0, -1);</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Cast all rays in a single call</span></div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>[] results = <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html">EmbreeRaytracer</a>.<a class="code hl_function" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#adbcfb9d4e5dc08c6e5ba95c5356d8a72">IntersectForPoints</a>(BVH, origin_vector, direction_vector, -1);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Print results</span></div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_points; i++)</div>
<div class="line">                Debug.WriteLine(String.Format(<span class="stringliteral">&quot;Origin: {0}, Intersection: {1}&quot;</span>, origin_vector[i], results[i]));</div>
<div class="line"> </div>
<div class="ttc" id="aclass_human_factors_1_1_ray_tracing_1_1_embree_raytracer_html_adbcfb9d4e5dc08c6e5ba95c5356d8a72"><div class="ttname"><a href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html#adbcfb9d4e5dc08c6e5ba95c5356d8a72">HumanFactors.RayTracing.EmbreeRaytracer.IntersectForPoints</a></div><div class="ttdeci">static Vector3D[] IntersectForPoints(EmbreeBVH bvh, IEnumerable&lt; Vector3D &gt; origins, IEnumerable&lt; Vector3D &gt; directions, float max_distance=-1)</div><div class="ttdoc">Cast multiple rays and recieve hitpoints in return.</div></div>
</div><!-- fragment --> <div class="fragment"><div class="line">Origin: (0, 0, 1), Intersection: (0, 0, 0)</div>
<div class="line">Origin: (0, 1, 1), Intersection: (0, 1, 0)</div>
<div class="line">Origin: (0, 2, 1), Intersection: (0, 2, 0)</div>
<div class="line">Origin: (0, 3, 1), Intersection: (0, 3, 0)</div>
<div class="line">Origin: (0, 4, 1), Intersection: (0, 4, 0)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="a5dfde2e8c107a3aae8943d96222d35fa" name="a5dfde2e8c107a3aae8943d96222d35fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dfde2e8c107a3aae8943d96222d35fa">&#9670;&nbsp;</a></span>IntersectOccluded()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool[] HumanFactors.RayTracing.EmbreeRaytracer.IntersectOccluded </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>&#160;</td>
          <td class="paramname"><em>bvh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt;&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_distance</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine if any geometry occludes a point from a direction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bvh</td><td>A valid Embree BVH. </td></tr>
    <tr><td class="paramname">origin</td><td>One or more origins. </td></tr>
    <tr><td class="paramname">direction</td><td>One or more directions. </td></tr>
    <tr><td class="paramname">max_distance</td><td>Maximum distance that a ray can travel. Any hits beyond this point are not counted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array of true or false values indicating hits or misses respectively.</dd></dl>
<p>Can be casted in 3 configurations: </p>
<ul>
<li>
Equal amount of directions/origins: Cast a ray for every pair of origin/direction in order.i.e. (origin[0], direction[0]), (origin[1], direction[1]), etc.  </li>
<li>
One direction, multiple origins: Cast a ray in the given direction from each origin point in origins.  </li>
<li>
One origin, multiple directions: Cast a ray from the origin point in each direction in directions  </li>
</ul>
<dl class="section remark"><dt>Remarks</dt><dd>Occlusion rays are the fastest raycasting function, however are only capable of returning or not they hit anything. This can be useful for line of sight checks. Will execute in parallel if multiple origins/directions are supplied.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"> </div>
<div class="line">            <span class="comment">// Load an OBJ from a filepath  into a new meshinfo instance</span></div>
<div class="line">            <span class="keywordtype">string</span> good_mesh_path = <span class="stringliteral">&quot;ExampleModels/plane.obj&quot;</span>;</div>
<div class="line">            MeshInfo Mesh = OBJLoader.LoadOBJ(good_mesh_path, CommonRotations.Yup_To_Zup);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Construct a BVH from the mesh</span></div>
<div class="line">            <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> BVH = <span class="keyword">new</span> <a class="code hl_class" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>(Mesh);</div>
<div class="line"> </div>
</div><!-- fragment --> <div class="fragment"><div class="line"> </div>
<div class="line">            <span class="comment">// Create origin and direction arrays</span></div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>[] origins = { <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>(0, 0, 1), <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>(0, 0, -1) };</div>
<div class="line">            <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>[] directions = { <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>(0, 0, -1), <span class="keyword">new</span> <a class="code hl_struct" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a>(0, 0, -1) };</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Cast a ray from the origin and direction at every matching index </span></div>
<div class="line">            <span class="keywordtype">bool</span>[] intersections = EmbreeRaytracer.IntersectOccluded(BVH, origins, directions, -1);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Print the results. Ray 1 should intersect the plane, and ray 2 should miss it. </span></div>
<div class="line">            Debug.WriteLine(String.Format(<span class="stringliteral">&quot;Ray 1: {0}, Ray 2 : {1}&quot;</span>, intersections[0], intersections[1]));</div>
<div class="line"> </div>
</div><!-- fragment --> <code>Ray 1: True, Ray 2 : False</code> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/Csharp/packages/raytracer/src/EmbreeRayTracer.cs</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_human_factors.html">HumanFactors</a></li><li class="navelem"><a class="el" href="namespace_human_factors_1_1_ray_tracing.html">RayTracing</a></li><li class="navelem"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_raytracer.html">EmbreeRaytracer</a></li>
    <li class="footer">Generated on Sat Jul 2 2022 20:47:27 for Analysis by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
