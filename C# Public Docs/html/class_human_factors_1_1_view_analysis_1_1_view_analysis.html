<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Analysis: HumanFactors.ViewAnalysis.ViewAnalysis Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Analysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_human_factors.html">HumanFactors</a></li><li class="navelem"><a class="el" href="namespace_human_factors_1_1_view_analysis.html">ViewAnalysis</a></li><li class="navelem"><a class="el" href="class_human_factors_1_1_view_analysis_1_1_view_analysis.html">ViewAnalysis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_human_factors_1_1_view_analysis_1_1_view_analysis-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HumanFactors.ViewAnalysis.ViewAnalysis Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions for analyzing the view of an observer in an environment at human scale.  
 <a href="class_human_factors_1_1_view_analysis_1_1_view_analysis.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1cdb30c740e2efd5a1a01ef633c734ac"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_human_factors_1_1_native_utils_1_1_common_native_arrays_1_1_managed_float_array.html">ManagedFloatArray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_view_analysis_1_1_view_analysis.html#a1cdb30c740e2efd5a1a01ef633c734ac">ViewAnalysisAggregate</a> (<a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> bvh, IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt; nodes, int ray_count, float upward_fov=50.0f, float downward_fov=70.0f, float height=1.7f, <a class="el" href="namespace_human_factors_1_1_view_analysis.html#ae24b8f5d9783a270e51183ff2eca765c">ViewAggregateType</a> type=<a class="el" href="namespace_human_factors_1_1_view_analysis.html#ae24b8f5d9783a270e51183ff2eca765ca16de38737a9f8366e9b2042b4e9b6290">ViewAggregateType.AVERAGE</a>)</td></tr>
<tr class="memdesc:a1cdb30c740e2efd5a1a01ef633c734ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Conduct view analysis and aggregate the results for each node.  <a href="class_human_factors_1_1_view_analysis_1_1_view_analysis.html#a1cdb30c740e2efd5a1a01ef633c734ac">More...</a><br /></td></tr>
<tr class="separator:a1cdb30c740e2efd5a1a01ef633c734ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec86f6a5bbc392de04357465994bab39"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_human_factors_1_1_view_analysis_1_1_result_array.html">ResultArray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_view_analysis_1_1_view_analysis.html#aec86f6a5bbc392de04357465994bab39">ViewAnalysisStandard</a> (<a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> bvh, IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt; nodes, int ray_count, float upward_fov=50.0f, float downward_fov=70.0f, float height=1.7f)</td></tr>
<tr class="memdesc:aec86f6a5bbc392de04357465994bab39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Conduct View Analysis and access the results of every ray casted for every node.  <a href="class_human_factors_1_1_view_analysis_1_1_view_analysis.html#aec86f6a5bbc392de04357465994bab39">More...</a><br /></td></tr>
<tr class="separator:aec86f6a5bbc392de04357465994bab39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1d51bdf752a4fa36af012e90cc8acb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_human_factors_1_1_view_analysis_1_1_direction_array.html">DirectionArray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_view_analysis_1_1_view_analysis.html#abc1d51bdf752a4fa36af012e90cc8acb">SphericallyDistributeRays</a> (int num_rays, float upward_fov=50f, float downward_fov=70f)</td></tr>
<tr class="memdesc:abc1d51bdf752a4fa36af012e90cc8acb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distribute a set of points equally on a unit sphere.  <a href="class_human_factors_1_1_view_analysis_1_1_view_analysis.html#abc1d51bdf752a4fa36af012e90cc8acb">More...</a><br /></td></tr>
<tr class="separator:abc1d51bdf752a4fa36af012e90cc8acb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions for analyzing the view of an observer in an environment at human scale. </p>
<dl class="section note"><dt>Note</dt><dd>All of these functions internally use a raytracer, so a <a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html" title="A Bounding Volume Hierarchy for the EmbreeRaytracer.">HumanFactors.RayTracing.EmbreeBVH</a> is required. </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="abc1d51bdf752a4fa36af012e90cc8acb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc1d51bdf752a4fa36af012e90cc8acb">&#9670;&nbsp;</a></span>SphericallyDistributeRays()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_human_factors_1_1_view_analysis_1_1_direction_array.html">DirectionArray</a> HumanFactors.ViewAnalysis.ViewAnalysis.SphericallyDistributeRays </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_rays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>upward_fov</em> = <code>50f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>downward_fov</em> = <code>70f</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Distribute a set of points equally on a unit sphere. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_rays</td><td>The number of points to distribute. </td></tr>
    <tr><td class="paramname">upward_fov</td><td>Maximum angle above the sphere to generate points in degrees, </td></tr>
    <tr><td class="paramname">downward_fov</td><td>Maximum angle in degrees downwards to generate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array of equally distributed points on a unit sphere.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The number of rays casted may not exactly match <code>ray_count</code> depending on the provided field of view restrictions.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is the same function used internally by view analysis to equally distribute ray directions.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"></div><!-- fragment --><code>[0, -1, 0, -0.2650034, -0.8181818, . . . -0.7649929, 0.4396428, 0.8181818, 0.3705303]</code> </dd></dl>

</div>
</div>
<a id="a1cdb30c740e2efd5a1a01ef633c734ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cdb30c740e2efd5a1a01ef633c734ac">&#9670;&nbsp;</a></span>ViewAnalysisAggregate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_human_factors_1_1_native_utils_1_1_common_native_arrays_1_1_managed_float_array.html">ManagedFloatArray</a> HumanFactors.ViewAnalysis.ViewAnalysis.ViewAnalysisAggregate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>&#160;</td>
          <td class="paramname"><em>bvh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt;&#160;</td>
          <td class="paramname"><em>nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ray_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>upward_fov</em> = <code>50.0f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>downward_fov</em> = <code>70.0f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>height</em> = <code>1.7f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_human_factors_1_1_view_analysis.html#ae24b8f5d9783a270e51183ff2eca765c">ViewAggregateType</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code><a class="el" href="namespace_human_factors_1_1_view_analysis.html#ae24b8f5d9783a270e51183ff2eca765ca16de38737a9f8366e9b2042b4e9b6290">ViewAggregateType.AVERAGE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Conduct view analysis and aggregate the results for each node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bvh</td><td>the <a class="el" href="namespace_human_factors_1_1_geometry.html" title="Manipulate and load geometry from disk.">Geometry</a> to intersect with. </td></tr>
    <tr><td class="paramname">nodes</td><td>Observer locations to perform view analysis from. </td></tr>
    <tr><td class="paramname">ray_count</td><td>Number of rays to fire. Higher values provide more accurate analysis, but increase the runtime of this function </td></tr>
    <tr><td class="paramname">upward_fov</td><td>Maximum angle in degrees above the viewer's eye level that is considered. </td></tr>
    <tr><td class="paramname">downward_fov</td><td>Maximum angle in degrees below the viewer's eye level that is considered. </td></tr>
    <tr><td class="paramname">height</td><td>Height of the observer. Nodes are offset this distance from the ground before the analysis is performed. </td></tr>
    <tr><td class="paramname">type</td><td>How the distances for all hits should be aggregated. See <a class="el" href="namespace_human_factors_1_1_view_analysis.html#ae24b8f5d9783a270e51183ff2eca765c">ViewAggregateType</a> for a list of all aggregation methods.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An ordered array of floats corresponding to the aggregated score for each node in nodes.</dd></dl>
<p>The rays for each node will be casted in parallel using all available cores on the host's machine.</p>
<dl class="section remark"><dt>Remarks</dt><dd>This function is much lighter in memory than <a class="el" href="class_human_factors_1_1_view_analysis_1_1_view_analysis.html#aec86f6a5bbc392de04357465994bab39">ViewAnalysisStandard</a> since all operations are done in place on single floats. Use this as a faster alternative if the scores of nodes are all that's needed.</dd></dl>
<dl class="section user"><dt>Examples</dt><dd></dd></dl>
<div class="fragment"></div><!-- fragment --><div class="fragment"></div><!-- fragment --><p><code>[480, 451, 428]</code> </p>

<p class="reference">Referenced by <a class="el" href="class_string_to_edge_cost.html#a9d8ddc097dd1084613af18ac06804b49">StringToEdgeCost.Main()</a>.</p>

</div>
</div>
<a id="aec86f6a5bbc392de04357465994bab39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec86f6a5bbc392de04357465994bab39">&#9670;&nbsp;</a></span>ViewAnalysisStandard()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_human_factors_1_1_view_analysis_1_1_result_array.html">ResultArray</a> HumanFactors.ViewAnalysis.ViewAnalysis.ViewAnalysisStandard </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_human_factors_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>&#160;</td>
          <td class="paramname"><em>bvh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="struct_human_factors_1_1_vector3_d.html">Vector3D</a> &gt;&#160;</td>
          <td class="paramname"><em>nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ray_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>upward_fov</em> = <code>50.0f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>downward_fov</em> = <code>70.0f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>height</em> = <code>1.7f</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Conduct View Analysis and access the results of every ray casted for every node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bvh</td><td><a class="el" href="namespace_human_factors_1_1_geometry.html" title="Manipulate and load geometry from disk.">Geometry</a> to intersect with. </td></tr>
    <tr><td class="paramname">nodes</td><td>Observer locations to perform view analysis from. </td></tr>
    <tr><td class="paramname">ray_count</td><td>Number of rays to fire.Higher values provide more accurate analysis, but increase the runtime and memory consumption of this function. </td></tr>
    <tr><td class="paramname">upward_fov</td><td>Maximum angle in degrees above the viewer's eye level that is considered. </td></tr>
    <tr><td class="paramname">downward_fov</td><td>Maximum angle in degrees below the viewer's eye level that is considered. </td></tr>
    <tr><td class="paramname">height</td><td>Height of the observer. Nodes are offset this distance from the ground before the analysis is performed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>nodes.Count()</code> by <code>num_rays</code> 2 dimensional array of results for each node and each ray casted. For example, every ray for node one is located at row 1, and the results for every ray casted from node 2 are located at row 2.</dd></dl>
<p>The rays for each node will be casted in parallel using all available cores on the host's machine.</p>
<dl class="section warning"><dt>Warning</dt><dd>The number of rays casted may not exactly match ray_count depending on the provided field of view restrictions.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The hitpoints for each ray in the returned array can be determined using the directions <a class="el" href="class_human_factors_1_1_view_analysis_1_1_view_analysis.html#abc1d51bdf752a4fa36af012e90cc8acb" title="Distribute a set of points equally on a unit sphere.">SphericallyDistributeRays()</a> with the same fov and ray_count parameters. Failures to intersect geometry will return -1.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"></div><!-- fragment --><div class="fragment"></div><!-- fragment --> <div class="fragment"><div class="line">(0, 0, 1): ([-1, -1], [5.292, 0], [-1, -1], [-1, -1], [3.098, 0], [5.407, 0], [13.07, 0], [-1, -1], [3.529, 0], [-1, -1])</div>
<div class="line">(1, 1, 1): ([-1, -1], [5.292, 0], [-1, -1], [-1, -1], [3.098, 0], [5.407, 0], [13.07, 0], [-1, -1], [3.529, 0], [-1, -1])</div>
<div class="line">(0, 0, 3): ([-1, -1], [9.211, 0], [-1, -1], [-1, -1], [5.394, 0], [9.413, 0], [-1, -1], [-1, -1], [6.144, 0], [-1, -1])</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/Csharp/packages/viewanalysis/src/ViewAnalysis.cs</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 30 2022 22:36:03 for Analysis by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
