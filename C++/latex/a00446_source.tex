\hypertarget{a00446_source}{}\doxysection{visibility\+\_\+graph\+\_\+\+C.\+cpp}
\label{a00446_source}\index{Cinterface/visibility\_graph\_C.cpp@{Cinterface/visibility\_graph\_C.cpp}}
\mbox{\hyperlink{a00446}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{a00446_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{a00449}{visibility\_graph\_C.h}}"{}}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{a00446_source_l00003}00003 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00004}00004 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{a00029}{visibility\_graph.h}}>}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00005}00005 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{a00212}{embree\_raytracer.h}}>}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00006}00006 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{a00269}{graph.h}}>}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00007}00007 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{a00275}{node.h}}>}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00008}00008 }
\DoxyCodeLine{\Hypertarget{a00446_source_l00009}00009 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{a00176}{HFExceptions.h}}>}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{a00446_source_l00011}00011 \textcolor{keyword}{using namespace }\mbox{\hyperlink{a00464}{HF::RayTracer}};}
\DoxyCodeLine{\Hypertarget{a00446_source_l00012}00012 \textcolor{keyword}{using namespace }\mbox{\hyperlink{a00465}{HF::SpatialStructures}};}
\DoxyCodeLine{\Hypertarget{a00446_source_l00013}00013 \textcolor{keyword}{using namespace }\mbox{\hyperlink{a00462}{HF}};}
\DoxyCodeLine{\Hypertarget{a00446_source_l00014}00014 \textcolor{keyword}{using }std::vector;}
\DoxyCodeLine{\Hypertarget{a00446_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{a00446_source_l00016}\mbox{\hyperlink{a00460_ga0255e6c4811298e61110adc64c0f8acd}{00016}} \mbox{\hyperlink{a00407_a91fa3b2bb3a7312ec39d74cc1fbc7bbe}{C\_INTERFACE}} \mbox{\hyperlink{a00460_ga0255e6c4811298e61110adc64c0f8acd}{CreateVisibilityGraphAllToAll}}(}
\DoxyCodeLine{\Hypertarget{a00446_source_l00017}00017     \mbox{\hyperlink{a01411}{EmbreeRayTracer}}* ert,}
\DoxyCodeLine{\Hypertarget{a00446_source_l00018}00018     \textcolor{keyword}{const} \textcolor{keywordtype}{float}* nodes,}
\DoxyCodeLine{\Hypertarget{a00446_source_l00019}00019     \textcolor{keywordtype}{int} num\_nodes,}
\DoxyCodeLine{\Hypertarget{a00446_source_l00020}00020     \mbox{\hyperlink{a01551}{Graph}}** out\_graph,}
\DoxyCodeLine{\Hypertarget{a00446_source_l00021}00021     \textcolor{keywordtype}{float} height}
\DoxyCodeLine{\Hypertarget{a00446_source_l00022}00022 ) \{}
\DoxyCodeLine{\Hypertarget{a00446_source_l00023}00023     \textcolor{keyword}{auto} array\_of\_nodes = \mbox{\hyperlink{a00245_a603d456361c9737b88a091e6683db12b}{ConvertRawFloatArrayToPoints}}(nodes, num\_nodes);}
\DoxyCodeLine{\Hypertarget{a00446_source_l00024}00024     }
\DoxyCodeLine{\Hypertarget{a00446_source_l00025}00025     vector<Node> vector\_of\_nodes(num\_nodes);}
\DoxyCodeLine{\Hypertarget{a00446_source_l00026}00026     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < num\_nodes; i++) \{}
\DoxyCodeLine{\Hypertarget{a00446_source_l00027}00027         \textcolor{keyword}{const} \textcolor{keyword}{auto}\& arr = array\_of\_nodes[i];}
\DoxyCodeLine{\Hypertarget{a00446_source_l00028}00028         \textcolor{keyword}{auto}\& vec = vector\_of\_nodes[i];}
\DoxyCodeLine{\Hypertarget{a00446_source_l00029}00029         }
\DoxyCodeLine{\Hypertarget{a00446_source_l00030}00030         vec[0] = arr[0]; vec[1] = arr[1]; vec[2] = arr[2];}
\DoxyCodeLine{\Hypertarget{a00446_source_l00031}00031     \}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00032}00032 }
\DoxyCodeLine{\Hypertarget{a00446_source_l00033}00033     \mbox{\hyperlink{a01551}{Graph}} * vg = \textcolor{keyword}{new} \mbox{\hyperlink{a01551}{Graph}}();}
\DoxyCodeLine{\Hypertarget{a00446_source_l00034}00034     *vg = \mbox{\hyperlink{a00467_a12eb1e4c06400c4625cd22d925927b03}{VisibilityGraph::AllToAll}}(*ert, vector\_of\_nodes, height );}
\DoxyCodeLine{\Hypertarget{a00446_source_l00035}00035     }
\DoxyCodeLine{\Hypertarget{a00446_source_l00036}00036     *out\_graph = vg;}
\DoxyCodeLine{\Hypertarget{a00446_source_l00037}00037     \textcolor{keywordflow}{return} \mbox{\hyperlink{a00468_aed53c233beb1d9ec1b0c5fc2bfbb1051a1c4bb363b033df614cec357be815e09d}{HF::Exceptions::HF\_STATUS::OK}};}
\DoxyCodeLine{\Hypertarget{a00446_source_l00038}00038 \}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{a00446_source_l00040}\mbox{\hyperlink{a00460_ga9b0664a60bcdf276b0fe0a2023b3d9b8}{00040}} \mbox{\hyperlink{a00407_a91fa3b2bb3a7312ec39d74cc1fbc7bbe}{C\_INTERFACE}} \mbox{\hyperlink{a00460_ga9b0664a60bcdf276b0fe0a2023b3d9b8}{CreateVisibilityGraphAllToAllUndirected}}(}
\DoxyCodeLine{\Hypertarget{a00446_source_l00041}00041     \mbox{\hyperlink{a01411}{EmbreeRayTracer}}* ert, }
\DoxyCodeLine{\Hypertarget{a00446_source_l00042}00042     \textcolor{keyword}{const} \textcolor{keywordtype}{float}* nodes,}
\DoxyCodeLine{\Hypertarget{a00446_source_l00043}00043     \textcolor{keywordtype}{int} num\_nodes, }
\DoxyCodeLine{\Hypertarget{a00446_source_l00044}00044     \mbox{\hyperlink{a01551}{Graph}}** out\_graph,}
\DoxyCodeLine{\Hypertarget{a00446_source_l00045}00045     \textcolor{keywordtype}{float} height,}
\DoxyCodeLine{\Hypertarget{a00446_source_l00046}00046     \textcolor{keyword}{const} \textcolor{keywordtype}{int} cores}
\DoxyCodeLine{\Hypertarget{a00446_source_l00047}00047 ) \{}
\DoxyCodeLine{\Hypertarget{a00446_source_l00048}00048     \textcolor{keyword}{auto} array\_of\_nodes = \mbox{\hyperlink{a00245_a603d456361c9737b88a091e6683db12b}{ConvertRawFloatArrayToPoints}}(nodes, num\_nodes);}
\DoxyCodeLine{\Hypertarget{a00446_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{a00446_source_l00050}00050     vector<Node> vector\_of\_nodes(num\_nodes);}
\DoxyCodeLine{\Hypertarget{a00446_source_l00051}00051     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < num\_nodes; i++) \{}
\DoxyCodeLine{\Hypertarget{a00446_source_l00052}00052         \textcolor{keyword}{const} \textcolor{keyword}{auto}\& arr = array\_of\_nodes[i];}
\DoxyCodeLine{\Hypertarget{a00446_source_l00053}00053         \textcolor{keyword}{auto}\& vec = vector\_of\_nodes[i];}
\DoxyCodeLine{\Hypertarget{a00446_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{a00446_source_l00055}00055         vec[0] = arr[0]; vec[1] = arr[1]; vec[2] = arr[2];}
\DoxyCodeLine{\Hypertarget{a00446_source_l00056}00056     \}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00057}00057     \mbox{\hyperlink{a01551}{Graph}}* vg = \textcolor{keyword}{new} \mbox{\hyperlink{a01551}{Graph}}();}
\DoxyCodeLine{\Hypertarget{a00446_source_l00058}00058     *vg = \mbox{\hyperlink{a00467_ab1db87927118f70786a664c3b3cc7905}{VisibilityGraph::AllToAllUndirected}}(*ert, vector\_of\_nodes, height, cores);}
\DoxyCodeLine{\Hypertarget{a00446_source_l00059}00059 }
\DoxyCodeLine{\Hypertarget{a00446_source_l00060}00060     *out\_graph = vg;}
\DoxyCodeLine{\Hypertarget{a00446_source_l00061}00061     \textcolor{keywordflow}{return} \mbox{\hyperlink{a00468_aed53c233beb1d9ec1b0c5fc2bfbb1051a1c4bb363b033df614cec357be815e09d}{HF::Exceptions::HF\_STATUS::OK}};}
\DoxyCodeLine{\Hypertarget{a00446_source_l00062}00062 \}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00063}00063 }
\DoxyCodeLine{\Hypertarget{a00446_source_l00064}\mbox{\hyperlink{a00460_gaf2e404cb696aee3473cac0d1507576d8}{00064}} \mbox{\hyperlink{a00407_a91fa3b2bb3a7312ec39d74cc1fbc7bbe}{C\_INTERFACE}} \mbox{\hyperlink{a00460_gaf2e404cb696aee3473cac0d1507576d8}{CreateVisibilityGraphGroupToGroup}}(}
\DoxyCodeLine{\Hypertarget{a00446_source_l00065}00065     \mbox{\hyperlink{a01411}{HF::RayTracer::EmbreeRayTracer}}* ert, }
\DoxyCodeLine{\Hypertarget{a00446_source_l00066}00066     \textcolor{keyword}{const} \textcolor{keywordtype}{float}* group\_a, }
\DoxyCodeLine{\Hypertarget{a00446_source_l00067}00067     \textcolor{keyword}{const} \textcolor{keywordtype}{int} size\_a,}
\DoxyCodeLine{\Hypertarget{a00446_source_l00068}00068     \textcolor{keyword}{const} \textcolor{keywordtype}{float}* group\_b, }
\DoxyCodeLine{\Hypertarget{a00446_source_l00069}00069     \textcolor{keyword}{const} \textcolor{keywordtype}{int} size\_b,}
\DoxyCodeLine{\Hypertarget{a00446_source_l00070}00070     \mbox{\hyperlink{a01551}{Graph}}** out\_graph,}
\DoxyCodeLine{\Hypertarget{a00446_source_l00071}00071     \textcolor{keywordtype}{float} height}
\DoxyCodeLine{\Hypertarget{a00446_source_l00072}00072 ) \{}
\DoxyCodeLine{\Hypertarget{a00446_source_l00073}00073     \textcolor{keyword}{auto} array\_a = \mbox{\hyperlink{a00245_a603d456361c9737b88a091e6683db12b}{ConvertRawFloatArrayToPoints}}(group\_a, size\_a);}
\DoxyCodeLine{\Hypertarget{a00446_source_l00074}00074     \textcolor{keyword}{auto} array\_b = \mbox{\hyperlink{a00245_a603d456361c9737b88a091e6683db12b}{ConvertRawFloatArrayToPoints}}(group\_b, size\_b);}
\DoxyCodeLine{\Hypertarget{a00446_source_l00075}00075 }
\DoxyCodeLine{\Hypertarget{a00446_source_l00076}00076     vector<Node> vector\_a(size\_a);}
\DoxyCodeLine{\Hypertarget{a00446_source_l00077}00077     vector<Node> vector\_b(size\_b);}
\DoxyCodeLine{\Hypertarget{a00446_source_l00078}00078     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < size\_a; i++) \{}
\DoxyCodeLine{\Hypertarget{a00446_source_l00079}00079         \textcolor{keyword}{const} \textcolor{keyword}{auto}\& arra = array\_a[i];}
\DoxyCodeLine{\Hypertarget{a00446_source_l00080}00080         \textcolor{keyword}{auto}\& va = vector\_a[i];}
\DoxyCodeLine{\Hypertarget{a00446_source_l00081}00081         va[0] = arra[0]; va[1] = arra[1]; va[2] = arra[2];}
\DoxyCodeLine{\Hypertarget{a00446_source_l00082}00082     \}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00083}00083     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < size\_b; i++) \{}
\DoxyCodeLine{\Hypertarget{a00446_source_l00084}00084         \textcolor{keyword}{const} \textcolor{keyword}{auto}\& arrb = array\_b[i];}
\DoxyCodeLine{\Hypertarget{a00446_source_l00085}00085         \textcolor{keyword}{auto}\& vb = vector\_b[i];}
\DoxyCodeLine{\Hypertarget{a00446_source_l00086}00086         vb[0] = arrb[0]; vb[1] = arrb[1]; vb[2] = arrb[2];}
\DoxyCodeLine{\Hypertarget{a00446_source_l00087}00087     \}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00088}00088     *out\_graph = \textcolor{keyword}{new} \mbox{\hyperlink{a01551}{Graph}}();}
\DoxyCodeLine{\Hypertarget{a00446_source_l00089}00089 }
\DoxyCodeLine{\Hypertarget{a00446_source_l00090}00090     **out\_graph = \mbox{\hyperlink{a00467_ae42a5aafdfcc29b6a668355c07602efb}{VisibilityGraph::GroupToGroup}}(*ert, vector\_a, vector\_b, height);}
\DoxyCodeLine{\Hypertarget{a00446_source_l00091}00091     }
\DoxyCodeLine{\Hypertarget{a00446_source_l00092}00092     \textcolor{keywordflow}{if} ((*out\_graph)-\/>GetCSRPointers().AreValid()) \{}
\DoxyCodeLine{\Hypertarget{a00446_source_l00093}00093         \textcolor{keywordflow}{return} \mbox{\hyperlink{a00468_aed53c233beb1d9ec1b0c5fc2bfbb1051a1c4bb363b033df614cec357be815e09d}{HF::Exceptions::HF\_STATUS::OK}};}
\DoxyCodeLine{\Hypertarget{a00446_source_l00094}00094     \}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00095}00095     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{a00446_source_l00096}00096         \textcolor{keyword}{delete}* out\_graph;}
\DoxyCodeLine{\Hypertarget{a00446_source_l00097}00097         \textcolor{keywordflow}{return} \mbox{\hyperlink{a00468_aed53c233beb1d9ec1b0c5fc2bfbb1051ab9036b1fec7e201bf970944267471d35}{HF::Exceptions::HF\_STATUS::NO\_GRAPH}};}
\DoxyCodeLine{\Hypertarget{a00446_source_l00098}00098     \}}
\DoxyCodeLine{\Hypertarget{a00446_source_l00099}00099 \}}

\end{DoxyCode}
