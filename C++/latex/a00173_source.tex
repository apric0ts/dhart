\hypertarget{a00173_source}{}\doxysection{ray\+\_\+data.\+h}
\label{a00173_source}\index{Cpp/raytracer/src/ray\_data.h@{Cpp/raytracer/src/ray\_data.h}}
\mbox{\hyperlink{a00173}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{a00173_source_l00001}00001 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00002}\mbox{\hyperlink{a00173_a441fa2508d213da8cf510e90af3762e3}{00002}} \textcolor{preprocessor}{\#define NANORT\_USE\_CPP11\_FEATURE}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00003}00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{a00161}{nanort.h}}"{}}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00004}00004 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{a00152}{HitStruct.h}}>}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00005}00005 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00006}00006 \textcolor{preprocessor}{\#include <array>}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00008}00008 \textcolor{preprocessor}{\#undef max}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00009}00009 \textcolor{comment}{// Forward Declares}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00010}00010 \textcolor{keyword}{namespace }\mbox{\hyperlink{a00403}{HF::Geometry}} \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00011}00011     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{class }\mbox{\hyperlink{a01285}{MeshInfo}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00012}00012 \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00013}00013 \textcolor{keyword}{namespace }\mbox{\hyperlink{a00404}{HF::nanoGeom}} \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00014}00014     \textcolor{keyword}{struct }Mesh;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00015}00015 \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00018}00018 \textcolor{keyword}{namespace }\mbox{\hyperlink{a00398}{HF::RayTracer}}\{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00019}00019     \textcolor{comment}{// Define struct of doubles to be used for ray and high precision raycasting}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00020}\mbox{\hyperlink{a01445}{00020}}     \textcolor{keyword}{struct }\mbox{\hyperlink{a01445}{double3}} \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00021}\mbox{\hyperlink{a01445_aeb66195888426c63e17d15395cb16136}{00021}}         \mbox{\hyperlink{a01445_aeb66195888426c63e17d15395cb16136}{double3}}() \{\}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00022}\mbox{\hyperlink{a01445_aab022a67d983126e06cfd7c98ba6b213}{00022}}         \mbox{\hyperlink{a01445_aab022a67d983126e06cfd7c98ba6b213}{double3}}(\textcolor{keywordtype}{double} xx, \textcolor{keywordtype}{double} yy, \textcolor{keywordtype}{double} zz) \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00023}00023             \mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}} = xx;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00024}00024             \mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}} = yy;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00025}00025             \mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}} = zz;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00026}00026         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00027}\mbox{\hyperlink{a01445_ad316645efaca2fdc62af4cdab8685d30}{00027}}         \mbox{\hyperlink{a01445_ad316645efaca2fdc62af4cdab8685d30}{double3}}(\textcolor{keyword}{const} \textcolor{keywordtype}{double}* p) \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00028}00028             \mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}} = p[0];}
\DoxyCodeLine{\Hypertarget{a00173_source_l00029}00029             \mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}} = p[1];}
\DoxyCodeLine{\Hypertarget{a00173_source_l00030}00030             \mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}} = p[2];}
\DoxyCodeLine{\Hypertarget{a00173_source_l00031}00031         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00032}\mbox{\hyperlink{a01445_abe98e17394908fa0b6db4f3cd6bbb52f}{00032}}         \mbox{\hyperlink{a01445}{double3}} \mbox{\hyperlink{a01445_abe98e17394908fa0b6db4f3cd6bbb52f}{operator*}}(\textcolor{keywordtype}{double} f)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{a01445_aeb66195888426c63e17d15395cb16136}{double3}}(\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}} * f, \mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}} * f, \mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}} * f); \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00033}\mbox{\hyperlink{a01445_a59ea40cffd2d7698a0abdc5b467eb587}{00033}}         \mbox{\hyperlink{a01445}{double3}} \mbox{\hyperlink{a01445_a59ea40cffd2d7698a0abdc5b467eb587}{operator-\/}}(\textcolor{keyword}{const} \mbox{\hyperlink{a01445}{double3}}\& f2)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00034}00034             \textcolor{keywordflow}{return} \mbox{\hyperlink{a01445_aeb66195888426c63e17d15395cb16136}{double3}}(\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}} -\/ f2.\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}}, \mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}} -\/ f2.\mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}}, \mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}} -\/ f2.\mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}});}
\DoxyCodeLine{\Hypertarget{a00173_source_l00035}00035         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00036}\mbox{\hyperlink{a01445_aeb81f3663f06409fd4a990788a373062}{00036}}         \mbox{\hyperlink{a01445}{double3}} \mbox{\hyperlink{a01445_aeb81f3663f06409fd4a990788a373062}{operator*}}(\textcolor{keyword}{const} \mbox{\hyperlink{a01445}{double3}}\& f2)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00037}00037             \textcolor{keywordflow}{return} \mbox{\hyperlink{a01445_aeb66195888426c63e17d15395cb16136}{double3}}(\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}} * f2.\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}}, \mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}} * f2.\mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}}, \mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}} * f2.\mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}});}
\DoxyCodeLine{\Hypertarget{a00173_source_l00038}00038         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00039}\mbox{\hyperlink{a01445_a946b0c048bdc441f58fdea464be2b1df}{00039}}         \mbox{\hyperlink{a01445}{double3}} \mbox{\hyperlink{a01445_a946b0c048bdc441f58fdea464be2b1df}{operator+}}(\textcolor{keyword}{const} \mbox{\hyperlink{a01445}{double3}}\& f2)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00040}00040             \textcolor{keywordflow}{return} \mbox{\hyperlink{a01445_aeb66195888426c63e17d15395cb16136}{double3}}(\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}} + f2.\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}}, \mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}} + f2.\mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}}, \mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}} + f2.\mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}});}
\DoxyCodeLine{\Hypertarget{a00173_source_l00041}00041         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00042}\mbox{\hyperlink{a01445_a7bd5d929393cb4801f5c68a197b6064e}{00042}}         \mbox{\hyperlink{a01445}{double3}}\& \mbox{\hyperlink{a01445_a7bd5d929393cb4801f5c68a197b6064e}{operator+=}}(\textcolor{keyword}{const} \mbox{\hyperlink{a01445}{double3}}\& f2) \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00043}00043             \mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}} += f2.\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00044}00044             \mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}} += f2.\mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00045}00045             \mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}} += f2.\mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00046}00046             \textcolor{keywordflow}{return} (*\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{a00173_source_l00047}00047         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00048}\mbox{\hyperlink{a01445_aabbfb9b8c3511d380b2036bcd019cac7}{00048}}         \mbox{\hyperlink{a01445}{double3}} \mbox{\hyperlink{a01445_aabbfb9b8c3511d380b2036bcd019cac7}{operator/}}(\textcolor{keyword}{const} \mbox{\hyperlink{a01445}{double3}}\& f2)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00049}00049             \textcolor{keywordflow}{return} \mbox{\hyperlink{a01445_aeb66195888426c63e17d15395cb16136}{double3}}(\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}} / f2.\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}}, \mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}} / f2.\mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}}, \mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}} / f2.\mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}});}
\DoxyCodeLine{\Hypertarget{a00173_source_l00050}00050         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00051}\mbox{\hyperlink{a01445_ad10b20e13c6d3446e0dc871fcc98a6d0}{00051}}         \textcolor{keywordtype}{double} \mbox{\hyperlink{a01445_ad10b20e13c6d3446e0dc871fcc98a6d0}{operator[]}}(\textcolor{keywordtype}{int} i)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} (\&\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}})[i]; \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00052}\mbox{\hyperlink{a01445_a7ad9361ac5506e6e9a6f555395016138}{00052}}         \textcolor{keywordtype}{double}\& \mbox{\hyperlink{a01445_a7ad9361ac5506e6e9a6f555395016138}{operator[]}}(\textcolor{keywordtype}{int} i) \{ \textcolor{keywordflow}{return} (\&\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}})[i]; \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00053}00053 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00054}\mbox{\hyperlink{a01445_aa9469a197d7b23d54811dd45fb7fc719}{00054}}         \mbox{\hyperlink{a01445}{double3}} \mbox{\hyperlink{a01445_aa9469a197d7b23d54811dd45fb7fc719}{neg}}() \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{a01445_aeb66195888426c63e17d15395cb16136}{double3}}(-\/\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}}, -\/\mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}}, -\/\mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}}); \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00055}00055 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00056}\mbox{\hyperlink{a01445_a364fec354bd42c719be24bce9115400a}{00056}}         \textcolor{keywordtype}{double} \mbox{\hyperlink{a01445_a364fec354bd42c719be24bce9115400a}{length}}() \{ \textcolor{keywordflow}{return} sqrt(\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}} * \mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}} + \mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}} * \mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}} + \mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}} * \mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}}); \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00058}\mbox{\hyperlink{a01445_a207734478ce98772b226cbbd715902dd}{00058}}         \textcolor{keywordtype}{void} \mbox{\hyperlink{a01445_a207734478ce98772b226cbbd715902dd}{normalize}}() \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00059}00059             \textcolor{keywordtype}{double} len = \mbox{\hyperlink{a01445_a364fec354bd42c719be24bce9115400a}{length}}();}
\DoxyCodeLine{\Hypertarget{a00173_source_l00060}00060             \textcolor{keywordflow}{if} (fabs(len) > 1.0e-\/6) \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00061}00061                 \textcolor{keywordtype}{double} inv\_len = 1.0 / len;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00062}00062                 \mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}} *= inv\_len;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00063}00063                 \mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}} *= inv\_len;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00064}00064                 \mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}} *= inv\_len;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00065}00065             \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00066}00066         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00068}\mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{00068}}         \textcolor{keywordtype}{double} \mbox{\hyperlink{a01445_a8f182f964ffbb7801eb7d7e98a9b9683}{x}}, \mbox{\hyperlink{a01445_a99d7008b61f129b3864b821fe7fbc115}{y}}, \mbox{\hyperlink{a01445_aa273109f9d239a50d598dbb519ef90c6}{z}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00069}00069         \textcolor{comment}{// double pad;  // for alignment}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00070}00070     \};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00071}00071 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00072}00072 \} \textcolor{comment}{// namespace}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00074}00074 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00075}00075 \textcolor{comment}{// Derive our own class from the triangle intersector so we can store some extra data}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00076}\mbox{\hyperlink{a01449}{00076}} \textcolor{keyword}{class }\mbox{\hyperlink{a01449}{nanoRT\_Data}} :}
\DoxyCodeLine{\Hypertarget{a00173_source_l00077}00077     \textcolor{keyword}{public} \mbox{\hyperlink{a01433}{nanort::TriangleIntersector}}<double, nanort::TriangleIntersection<double> > \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00078}00078 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00079}00079 \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{a00173_source_l00080}00080 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00081}00081     \textcolor{comment}{// Don't let the default empty constructor work since it needs the mesh}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00082}\mbox{\hyperlink{a01449_a2383cbed15c0012ff96ebc4da296af0a}{00082}}     \mbox{\hyperlink{a01449_a2383cbed15c0012ff96ebc4da296af0a}{nanoRT\_Data}}() = \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00083}00083     \textcolor{comment}{// Add a mesh object}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00084}\mbox{\hyperlink{a01449_a949f0f10008ed14b2183510786efe24e}{00084}}     \mbox{\hyperlink{a00404_a01273}{HF::nanoGeom::Mesh}} * \mbox{\hyperlink{a01449_a949f0f10008ed14b2183510786efe24e}{mesh}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00085}00085     \textcolor{comment}{// Add a ray object to be used for intersections}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00086}\mbox{\hyperlink{a01449_ab057f30627ea451e58b9c6cd2d39134a}{00086}}     \mbox{\hyperlink{a01381}{nanort::Ray<double>}} \mbox{\hyperlink{a01449_ab057f30627ea451e58b9c6cd2d39134a}{ray}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00087}00087     \textcolor{comment}{// Add a hit object to be referenced}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00088}\mbox{\hyperlink{a01449_af9f21fbf5a65e0b29495fff58e466c57}{00088}}     \mbox{\hyperlink{a00408_a00408}{nanort::TriangleIntersection<double>}} \mbox{\hyperlink{a01449_af9f21fbf5a65e0b29495fff58e466c57}{hit}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00089}00089     \textcolor{comment}{// Add a distance attribute to store intersection distance}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00090}\mbox{\hyperlink{a01449_a08d942806f986d3ceef1bf276e043cb3}{00090}}     \textcolor{keywordtype}{double} \mbox{\hyperlink{a01449_a08d942806f986d3ceef1bf276e043cb3}{dist}} = -\/1;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00091}\mbox{\hyperlink{a01449_aed0de5480c190a177f5adf4ee086719d}{00091}}     \textcolor{keywordtype}{double} \mbox{\hyperlink{a01449_aed0de5480c190a177f5adf4ee086719d}{point}}[3] = \{ -\/1,-\/1,-\/1 \};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00092}00092 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00093}00093     \textcolor{comment}{// Set initialization of class by passing a mesh to create a nanort::TriangleIntersector}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00094}00094     \mbox{\hyperlink{a01449_a2383cbed15c0012ff96ebc4da296af0a}{nanoRT\_Data}}(\mbox{\hyperlink{a00404_a01273}{HF::nanoGeom::Mesh}} * \mbox{\hyperlink{a01449_a949f0f10008ed14b2183510786efe24e}{mesh}});}
\DoxyCodeLine{\Hypertarget{a00173_source_l00095}00095 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00096}00096     \textcolor{comment}{// Destructor}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00097}00097     \mbox{\hyperlink{a01449_a0300eeb238ac5748f98b59b9a262450d}{\string~nanoRT\_Data}}();}
\DoxyCodeLine{\Hypertarget{a00173_source_l00098}00098 \};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00099}00099 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00100}00100 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00101}00101 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00102}00102 \textcolor{keyword}{namespace }\mbox{\hyperlink{a00404}{HF::nanoGeom}} \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00103}00103 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00104}00104     \textcolor{comment}{// Convenience method not used now but here for clarity}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00105}00105     \textcolor{keywordtype}{bool} \mbox{\hyperlink{a00404_ae4ab3809e1f437e93ae1ad78c2792025}{nanoRT\_RayCast}}(\mbox{\hyperlink{a01417}{nanort::BVHAccel<double>}}\& accel,}
\DoxyCodeLine{\Hypertarget{a00173_source_l00106}00106         \mbox{\hyperlink{a01433}{nanort::TriangleIntersector}}<\textcolor{keywordtype}{double}, \mbox{\hyperlink{a00408_a00408}{nanort::TriangleIntersection<double>}} >\& triangle\_intersector,}
\DoxyCodeLine{\Hypertarget{a00173_source_l00107}00107         \mbox{\hyperlink{a01381}{nanort::Ray<double>}}\& ray,}
\DoxyCodeLine{\Hypertarget{a00173_source_l00108}00108         \mbox{\hyperlink{a00408_a00408}{nanort::TriangleIntersection<double>}}\& isect);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00109}00109 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00110}00110 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00111}00111     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{\Hypertarget{a00173_source_l00112}\mbox{\hyperlink{a00404_af0076b21d9b4daea635c98a24737da94}{00112}}     \textcolor{keyword}{inline} \mbox{\hyperlink{a01417}{nanort::BVHAccel<T>}} \mbox{\hyperlink{a00404_a1cb19dd0ff847089a65139f01ee06b8c}{nanoRT\_BVH}}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} * indices, T * vertices, \textcolor{keywordtype}{int} num\_vertices, \textcolor{keywordtype}{int} num\_indices)}
\DoxyCodeLine{\Hypertarget{a00173_source_l00113}00113     \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00114}00114         \textcolor{comment}{// Setup nanort tracer BVH options}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00115}00115         \mbox{\hyperlink{a01393}{nanort::BVHBuildOptions<T>}} build\_options; \textcolor{comment}{// Use default option}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00116}00116         build\_options.\mbox{\hyperlink{a01393_a99d7328a59abcb9aeaa23cede349e251}{cache\_bbox}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00117}00117 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00118}00118         \textcolor{comment}{// Construct datatype using verts and indices for building BVH}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00119}00119         \mbox{\hyperlink{a01425}{nanort::TriangleMesh<T>}} triangle\_mesh(vertices, indices, \textcolor{keyword}{sizeof}(T) * 3);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00120}00120         \mbox{\hyperlink{a01421}{nanort::TriangleSAHPred<T>}} triangle\_pred(vertices, indices, \textcolor{keyword}{sizeof}(T) * 3);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00121}00121 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00122}00122         \textcolor{comment}{// build BVH using NanoRT Method (Replace this assert with an exception)}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00123}00123         \mbox{\hyperlink{a01417}{nanort::BVHAccel<T>}} accel;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00124}00124         accel.\mbox{\hyperlink{a01417_a96521982d08e0ccd728798410dabeed5}{Build}}(num\_indices, triangle\_mesh, triangle\_pred, build\_options);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00125}00125 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00126}00126         \textcolor{comment}{// Return the BVH object}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00127}00127         \textcolor{keywordflow}{return} accel;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00128}00128     \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00129}00129     \mbox{\hyperlink{a01417}{nanort::BVHAccel<double>}} \mbox{\hyperlink{a00404_a1cb19dd0ff847089a65139f01ee06b8c}{nanoRT\_BVH}}(Mesh mesh);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00130}00130 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00131}00131     \textcolor{keywordtype}{bool} \mbox{\hyperlink{a00404_ab842b43dc319eba17876627bae3286f6}{nanoRT\_Intersect}}(Mesh\& mesh, \mbox{\hyperlink{a01417}{nanort::BVHAccel<double>}}\& accel, \mbox{\hyperlink{a01449}{nanoRT\_Data}}\& intersector);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00132}00132 \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00133}00133 \textcolor{keyword}{namespace }\mbox{\hyperlink{a00398}{HF::RayTracer}} \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00134}00134 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00135}\mbox{\hyperlink{a01453}{00135}}     \textcolor{keyword}{class }\mbox{\hyperlink{a01453}{NanoRTRayTracer}} \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00136}00136 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00137}00137     \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{a00173_source_l00138}\mbox{\hyperlink{a01453_a6b733e653df54b6bebafe31df7a6781a}{00138}}         \textcolor{keyword}{using }\mbox{\hyperlink{a00001_a02073}{vertex\_t}} = \mbox{\hyperlink{a00001_a02073}{double}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00139}\mbox{\hyperlink{a01453_af6564fb74a54253c436b4e2c3b74f06b}{00139}}         \textcolor{keyword}{using }\mbox{\hyperlink{a00001_a02073}{real\_t}} = \mbox{\hyperlink{a00001_a02073}{double}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00140}\mbox{\hyperlink{a01453_a79c23e38bd7c30bd37a5c634236d0115}{00140}}         \textcolor{keyword}{using }\mbox{\hyperlink{a00408_a01429}{Intersection}} = \mbox{\hyperlink{a00408_a01429}{nanort::TriangleIntersection<real\_t>}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00141}\mbox{\hyperlink{a01453_aadda889460625a691bcdd56f594c8ea6}{00141}}         \textcolor{keyword}{using }\mbox{\hyperlink{a01433}{Intersector}} = \mbox{\hyperlink{a01433}{nanort::TriangleIntersector<vertex\_t, Intersection>}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00142}\mbox{\hyperlink{a01453_ae785a582313b8cbb31cdfbcf4f3a4623}{00142}}         \textcolor{keyword}{using }\mbox{\hyperlink{a01417}{NanoBVH}} = \mbox{\hyperlink{a01417}{nanort::BVHAccel<vertex\_t>}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00143}\mbox{\hyperlink{a01453_aa72ef9756028ab682645dc41e7e6707c}{00143}}         \textcolor{keyword}{using }\mbox{\hyperlink{a01381}{NanoRay}} = \mbox{\hyperlink{a01381}{nanort::Ray<real\_t>}};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00144}00144 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00145}00145         \textcolor{comment}{// Add a hit object to be referenced}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00146}\mbox{\hyperlink{a01453_a0481453571121245999f194dd8fdcb7b}{00146}}         std::unique\_ptr<Intersector> \mbox{\hyperlink{a01453_a0481453571121245999f194dd8fdcb7b}{intersector}}; }
\DoxyCodeLine{\Hypertarget{a00173_source_l00147}\mbox{\hyperlink{a01453_a4f0caa6e76a3db1d6d70529b753a20f6}{00147}}         \mbox{\hyperlink{a01417}{NanoBVH}} \mbox{\hyperlink{a01453_a4f0caa6e76a3db1d6d70529b753a20f6}{bvh}}; }
\DoxyCodeLine{\Hypertarget{a00173_source_l00148}00148 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00149}\mbox{\hyperlink{a01453_a5cc200a19023aba64bcc859c4b06f02f}{00149}}         \textcolor{keyword}{const} \mbox{\hyperlink{a00001_a02073}{real\_t}} \mbox{\hyperlink{a01453_a5cc200a19023aba64bcc859c4b06f02f}{min\_dist}} = 0.0;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00150}\mbox{\hyperlink{a01453_a1dd268c8755f0a9dd72b2508164411a0}{00150}}         std::vector<real\_t> \mbox{\hyperlink{a01453_a1dd268c8755f0a9dd72b2508164411a0}{vertices}}; \textcolor{comment}{//< Internal vertex array}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00151}\mbox{\hyperlink{a01453_ab5a9d1b264633514d5323cc12eabbf1a}{00151}}         std::vector<unsigned int> \mbox{\hyperlink{a01453_ab5a9d1b264633514d5323cc12eabbf1a}{indices}}; \textcolor{comment}{//< Internal index array}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00152}00152 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00153}00153         \textcolor{keyword}{template} <\textcolor{keyword}{typename} dist\_type = real\_t, \textcolor{keyword}{typename} N>}
\DoxyCodeLine{\Hypertarget{a00173_source_l00154}\mbox{\hyperlink{a01453_ac8f4b80f6198b4673377b2d098813ce4}{00154}}         \textcolor{keyword}{inline} \mbox{\hyperlink{a01381}{NanoRay}} \mbox{\hyperlink{a01453_ac8f4b80f6198b4673377b2d098813ce4}{ConstructRay}}(\textcolor{keyword}{const} N\& origin, \textcolor{keyword}{const} N\& direction, dist\_type max\_dist = std::numeric\_limits<dist\_type>::max()) \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00155}00155             \mbox{\hyperlink{a01381}{NanoRay}} out\_ray;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00156}00156             out\_ray.\mbox{\hyperlink{a01381_aea9fcda185648fe74d64f8e6bcad01ec}{org}}[0] = origin[0]; out\_ray.\mbox{\hyperlink{a01381_aea9fcda185648fe74d64f8e6bcad01ec}{org}}[1] = origin[1]; out\_ray.\mbox{\hyperlink{a01381_aea9fcda185648fe74d64f8e6bcad01ec}{org}}[2] = origin[2];}
\DoxyCodeLine{\Hypertarget{a00173_source_l00157}00157             out\_ray.\mbox{\hyperlink{a01381_a5538d88576be3ac0175145685ac320c2}{dir}}[0] = direction[0]; out\_ray.\mbox{\hyperlink{a01381_a5538d88576be3ac0175145685ac320c2}{dir}}[1] = direction[1]; out\_ray.\mbox{\hyperlink{a01381_a5538d88576be3ac0175145685ac320c2}{dir}}[2] = direction[2];}
\DoxyCodeLine{\Hypertarget{a00173_source_l00158}00158             out\_ray.\mbox{\hyperlink{a01381_a0e35bd37e6eb93f8233d903725d75de4}{min\_t}} = \mbox{\hyperlink{a01453_a5cc200a19023aba64bcc859c4b06f02f}{min\_dist}}; out\_ray.\mbox{\hyperlink{a01381_ae36571adc2758974ef58912c4896c5e6}{max\_t}} = max\_dist;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00159}00159 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00160}00160             \textcolor{keywordflow}{return} out\_ray;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00161}00161         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00162}00162 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00163}\mbox{\hyperlink{a01453_a7aa768fa79aa76a2a70d2a5e348a2374}{00163}}         \textcolor{keyword}{inline} \mbox{\hyperlink{a00408_a01429}{Intersection}} \mbox{\hyperlink{a01453_a7aa768fa79aa76a2a70d2a5e348a2374}{CreateHit}}() \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00164}00164             \mbox{\hyperlink{a00408_a01429}{Intersection}} out\_hit;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00165}00165             out\_hit.\mbox{\hyperlink{a00408_a3deaad23e30bd59d6932533d99a9927a}{u}} = -\/1; out\_hit.\mbox{\hyperlink{a00408_a19beb63051e1c58b701fa132554816b1}{v}} = -\/1; out\_hit.\mbox{\hyperlink{a00408_ac6905be589222ab5c6d8367bee4370aa}{t}} = -\/1; out\_hit.\mbox{\hyperlink{a00408_a1e3062943d9c131ef207cf4f92cd15b9}{prim\_id}} = -\/1;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00166}00166             \textcolor{keywordflow}{return} out\_hit;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00167}00167         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00168}00168 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00169}00169         \textcolor{keyword}{template} <\textcolor{keyword}{typename} po\textcolor{keywordtype}{int}\_type, \textcolor{keyword}{typename} dist\_type>}
\DoxyCodeLine{\Hypertarget{a00173_source_l00170}\mbox{\hyperlink{a01453_a13640190d89da1907a459657aa99eb60}{00170}}         \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{a01453_a13640190d89da1907a459657aa99eb60}{MovePoint}}(point\_type \& point, \textcolor{keyword}{const} point\_type \& dir, dist\_type dist) \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00171}00171             point[0] += (dir[0] * dist);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00172}00172             point[1] += (dir[1] * dist);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00173}00173             point[2] += (dir[2] * dist);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00174}00174         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00175}00175 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00176}00176     \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{a00173_source_l00177}00177 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00179}00179         \mbox{\hyperlink{a01453_a0229249855045b4fbf7097c31827f6e6}{NanoRTRayTracer}}(\textcolor{keyword}{const} \mbox{\hyperlink{a01285}{HF::Geometry::MeshInfo<float>}}\& MI);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00180}00180         \mbox{\hyperlink{a01453_a0229249855045b4fbf7097c31827f6e6}{NanoRTRayTracer}}(\textcolor{keyword}{const} \mbox{\hyperlink{a01285}{HF::Geometry::MeshInfo<double>}}\& MI);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00181}00181 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00182}00182 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00183}00183         \textcolor{keyword}{template}<\textcolor{keyword}{typename} po\textcolor{keywordtype}{int}\_type, \textcolor{keyword}{typename} dist\_type = real\_t>}
\DoxyCodeLine{\Hypertarget{a00173_source_l00184}\mbox{\hyperlink{a01453_a980fe63296fb23f96ceafc82789cff6c}{00184}}         \textcolor{keyword}{inline} \mbox{\hyperlink{a01349}{HitStruct<real\_t>}} \mbox{\hyperlink{a01453_a980fe63296fb23f96ceafc82789cff6c}{Intersect}}(}
\DoxyCodeLine{\Hypertarget{a00173_source_l00185}00185             \textcolor{keyword}{const} point\_type\& origin,}
\DoxyCodeLine{\Hypertarget{a00173_source_l00186}00186             \textcolor{keyword}{const} point\_type\& dir,}
\DoxyCodeLine{\Hypertarget{a00173_source_l00187}00187             dist\_type distance = -\/1.0,}
\DoxyCodeLine{\Hypertarget{a00173_source_l00188}00188             \textcolor{keywordtype}{int} mesh\_id = -\/1) }
\DoxyCodeLine{\Hypertarget{a00173_source_l00189}00189         \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00190}00190             dist\_type max\_dist = (distance < 0) ? std::numeric\_limits<dist\_type>::max() : distance;}
\DoxyCodeLine{\Hypertarget{a00173_source_l00191}00191 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00192}00192             \mbox{\hyperlink{a01381}{NanoRay}} ray = ConstructRay<dist\_type>(origin, dir, max\_dist);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00193}00193             \mbox{\hyperlink{a00408_a01429}{Intersection}} hit = \mbox{\hyperlink{a01453_a7aa768fa79aa76a2a70d2a5e348a2374}{CreateHit}}();}
\DoxyCodeLine{\Hypertarget{a00173_source_l00194}00194 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00195}00195             \textcolor{comment}{// Create a new intersector every time}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00196}00196             \mbox{\hyperlink{a01433}{NanoRTRayTracer::Intersector}} temp\_intersector(this-\/>vertices.data(), this-\/>indices.data(), \textcolor{keyword}{sizeof}(\mbox{\hyperlink{a00001_a02073}{real\_t}})*3);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00197}00197             }
\DoxyCodeLine{\Hypertarget{a00173_source_l00198}00198             \textcolor{keywordtype}{bool} did\_intersect = \mbox{\hyperlink{a01453_a4f0caa6e76a3db1d6d70529b753a20f6}{bvh}}.\mbox{\hyperlink{a01417_a4d07d0fc035d860dd1bfbeaa90c14a11}{Traverse}}<\mbox{\hyperlink{a01433}{Intersector}}>(ray, temp\_intersector, \&hit);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00199}00199             }
\DoxyCodeLine{\Hypertarget{a00173_source_l00200}00200             \textcolor{keywordflow}{if} (did\_intersect)}
\DoxyCodeLine{\Hypertarget{a00173_source_l00201}00201                 \textcolor{keywordflow}{return} \mbox{\hyperlink{a01349}{HitStruct}}\{ hit.\mbox{\hyperlink{a00408_ac6905be589222ab5c6d8367bee4370aa}{t}}, 0 \};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00202}00202             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00203}00203                 \textcolor{keywordflow}{return} \mbox{\hyperlink{a01349}{HitStruct}}();}
\DoxyCodeLine{\Hypertarget{a00173_source_l00204}00204 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00205}00205         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00206}00206 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00207}00207         \textcolor{keyword}{template}<\textcolor{keyword}{typename} po\textcolor{keywordtype}{int}\_type>}
\DoxyCodeLine{\Hypertarget{a00173_source_l00208}\mbox{\hyperlink{a01453_a026deea38d40b0980713e96869761ac5}{00208}}         \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{a01453_a026deea38d40b0980713e96869761ac5}{Occluded}}(}
\DoxyCodeLine{\Hypertarget{a00173_source_l00209}00209             \textcolor{keyword}{const} point\_type\& origin,}
\DoxyCodeLine{\Hypertarget{a00173_source_l00210}00210             \textcolor{keyword}{const} point\_type\& dir,}
\DoxyCodeLine{\Hypertarget{a00173_source_l00211}00211             \textcolor{keywordtype}{float} distance = -\/1,}
\DoxyCodeLine{\Hypertarget{a00173_source_l00212}00212             \textcolor{keywordtype}{int} mesh\_id = -\/1)}
\DoxyCodeLine{\Hypertarget{a00173_source_l00213}00213         \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00214}00214             \textcolor{keywordflow}{return} \mbox{\hyperlink{a01453_a980fe63296fb23f96ceafc82789cff6c}{Intersect}}(origin, dir, distance, mesh\_id).DidHit();}
\DoxyCodeLine{\Hypertarget{a00173_source_l00215}00215         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00216}00216 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00217}00217         \textcolor{keyword}{template}<\textcolor{keyword}{typename} po\textcolor{keywordtype}{int}\_type>}
\DoxyCodeLine{\Hypertarget{a00173_source_l00218}\mbox{\hyperlink{a01453_a2d5a5ae0fd9a0830b8eb14e5cd9ffd34}{00218}}         \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{a01453_a2d5a5ae0fd9a0830b8eb14e5cd9ffd34}{PointIntersection}}(}
\DoxyCodeLine{\Hypertarget{a00173_source_l00219}00219             point\_type \& origin,}
\DoxyCodeLine{\Hypertarget{a00173_source_l00220}00220             \textcolor{keyword}{const} point\_type \& dir,}
\DoxyCodeLine{\Hypertarget{a00173_source_l00221}00221             \textcolor{keywordtype}{float} distance = -\/1,}
\DoxyCodeLine{\Hypertarget{a00173_source_l00222}00222             \textcolor{keywordtype}{int} mesh\_id = -\/1}
\DoxyCodeLine{\Hypertarget{a00173_source_l00223}00223         ) \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00224}00224             \textcolor{keyword}{auto} res = \mbox{\hyperlink{a01453_a980fe63296fb23f96ceafc82789cff6c}{Intersect}}(origin, dir, distance, mesh\_id);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00225}00225 }
\DoxyCodeLine{\Hypertarget{a00173_source_l00226}00226             \textcolor{comment}{// If it intersected, move the node and return true, otherwise do nothing and return false.}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00227}00227             \textcolor{keywordflow}{if} (res.DidHit()) \{}
\DoxyCodeLine{\Hypertarget{a00173_source_l00228}00228                 \mbox{\hyperlink{a01453_a13640190d89da1907a459657aa99eb60}{MovePoint}}(origin, dir, res.distance);}
\DoxyCodeLine{\Hypertarget{a00173_source_l00229}00229                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00230}00230             \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00231}00231             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00232}00232                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00233}00233         \}}
\DoxyCodeLine{\Hypertarget{a00173_source_l00234}00234     \};}
\DoxyCodeLine{\Hypertarget{a00173_source_l00235}00235 \}}

\end{DoxyCode}
