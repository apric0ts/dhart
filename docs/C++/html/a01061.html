<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Analysis: HF::RayTracer::EmbreeRayTracer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Analysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a00171.html">HF</a></li><li class="navelem"><a class="el" href="a00175.html">RayTracer</a></li><li class="navelem"><a class="el" href="a01061.html">EmbreeRayTracer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="a01058.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HF::RayTracer::EmbreeRayTracer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A wrapper for Intel's Embree Library.  
 <a href="a01061.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="a00071_source.html">embree_raytracer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac46476760e07cb2579eeb2b4c094522a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#ac46476760e07cb2579eeb2b4c094522a">EmbreeRayTracer</a> ()</td></tr>
<tr class="separator:ac46476760e07cb2579eeb2b4c094522a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab51061e309585cc48d58a6170ccea619"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#ab51061e309585cc48d58a6170ccea619">EmbreeRayTracer</a> (std::vector&lt; <a class="el" href="a01025.html">HF::Geometry::MeshInfo</a> &gt; &amp;MI)</td></tr>
<tr class="memdesc:ab51061e309585cc48d58a6170ccea619"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="a01061.html" title="A wrapper for Intel&#39;s Embree Library.">EmbreeRayTracer</a> and add a single mesh to the scene.  <a href="a01061.html#ab51061e309585cc48d58a6170ccea619">More...</a><br /></td></tr>
<tr class="separator:ab51061e309585cc48d58a6170ccea619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425bef2c0b6b26ee95aedb72089d84c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a425bef2c0b6b26ee95aedb72089d84c6">EmbreeRayTracer</a> (const std::vector&lt; std::array&lt; float, 3 &gt;&gt; &amp;<a class="el" href="a01061.html#a3a243ef02c74fc6df958a4fd2506e7cc">geometry</a>)</td></tr>
<tr class="memdesc:a425bef2c0b6b26ee95aedb72089d84c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new Raytracer and generate its BVH from a flat array of vertices.  <a href="a01061.html#a425bef2c0b6b26ee95aedb72089d84c6">More...</a><br /></td></tr>
<tr class="separator:a425bef2c0b6b26ee95aedb72089d84c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61aa9665f98c3383c2d5cbdef6e4ac00"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a61aa9665f98c3383c2d5cbdef6e4ac00">FireRay</a> (std::array&lt; float, 3 &gt; &amp;origin, const std::array&lt; float, 3 &gt; &amp;dir, float distance=-1, int mesh_id=-1)</td></tr>
<tr class="memdesc:a61aa9665f98c3383c2d5cbdef6e4ac00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cast a ray and overwrite the origin with the hitpoint if it intersects any geometry.  <a href="a01061.html#a61aa9665f98c3383c2d5cbdef6e4ac00">More...</a><br /></td></tr>
<tr class="separator:a61aa9665f98c3383c2d5cbdef6e4ac00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d8230c1d095cb539c5be8becaeb2d5d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a5d8230c1d095cb539c5be8becaeb2d5d">FireRay</a> (float &amp;x, float &amp;y, float &amp;z, float dx, float dy, float dz, float distance=-1, int mesh_id=-1)</td></tr>
<tr class="memdesc:a5d8230c1d095cb539c5be8becaeb2d5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cast a single ray and get the hitpoint. <em>x</em> , <em>y</em> ,and <em>z</em>  are overridden with the hitpoint on a successful hit.  <a href="a01061.html#a5d8230c1d095cb539c5be8becaeb2d5d">More...</a><br /></td></tr>
<tr class="separator:a5d8230c1d095cb539c5be8becaeb2d5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3348672e98a6b29edca1cfe65f5b9195"><td class="memItemLeft" align="right" valign="top">std::vector&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a3348672e98a6b29edca1cfe65f5b9195">FireRays</a> (std::vector&lt; std::array&lt; float, 3 &gt;&gt; &amp;origins, std::vector&lt; std::array&lt; float, 3 &gt;&gt; &amp;directions, bool use_parallel=true, float max_distance=-1, int mesh_id=-1)</td></tr>
<tr class="memdesc:a3348672e98a6b29edca1cfe65f5b9195"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fire multiple rays and recieve hitpoints in return.  <a href="a01061.html#a3348672e98a6b29edca1cfe65f5b9195">More...</a><br /></td></tr>
<tr class="separator:a3348672e98a6b29edca1cfe65f5b9195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab65abb62a043f237cec50661077610c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01057.html">HitStruct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#ab65abb62a043f237cec50661077610c8">Intersect</a> (float x, float y, float z, float dx, float dy, float dz, float max_distance=-1, int mesh_id=-1)</td></tr>
<tr class="memdesc:ab65abb62a043f237cec50661077610c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cast a ray and store all relevant information in a <a class="el" href="a01057.html" title="A simple hit struct to carry all relevant information about hits.">HitStruct</a>.  <a href="a01061.html#ab65abb62a043f237cec50661077610c8">More...</a><br /></td></tr>
<tr class="separator:ab65abb62a043f237cec50661077610c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54809c56dbaada56b6692668bf33780d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a54809c56dbaada56b6692668bf33780d">FireOcclusionRay</a> (const std::array&lt; float, 3 &gt; &amp;origin, const std::array&lt; float, 3 &gt; &amp;direction, float max_dist=-1)</td></tr>
<tr class="memdesc:a54809c56dbaada56b6692668bf33780d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cast an occlusion ray using arrays as input.  <a href="a01061.html#a54809c56dbaada56b6692668bf33780d">More...</a><br /></td></tr>
<tr class="separator:a54809c56dbaada56b6692668bf33780d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e55d29b728c4c868883e20c2bf5883"><td class="memItemLeft" align="right" valign="top">std::vector&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a18e55d29b728c4c868883e20c2bf5883">FireOcclusionRays</a> (const std::vector&lt; std::array&lt; float, 3 &gt;&gt; &amp;origins, const std::vector&lt; std::array&lt; float, 3 &gt;&gt; &amp;directions, float max_distance=-1, bool use_parallel=true)</td></tr>
<tr class="memdesc:a18e55d29b728c4c868883e20c2bf5883"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cast multiple occlusion rays in parallel.  <a href="a01061.html#a18e55d29b728c4c868883e20c2bf5883">More...</a><br /></td></tr>
<tr class="separator:a18e55d29b728c4c868883e20c2bf5883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf5a611b81d21ff616fdff44b5fd4f30"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#aaf5a611b81d21ff616fdff44b5fd4f30">FireOcclusionRay</a> (float x, float y, float z, float dx, float dy, float dz, float distance=-1, int mesh_id=-1)</td></tr>
<tr class="memdesc:aaf5a611b81d21ff616fdff44b5fd4f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cast a single occlusion ray.  <a href="a01061.html#aaf5a611b81d21ff616fdff44b5fd4f30">More...</a><br /></td></tr>
<tr class="separator:aaf5a611b81d21ff616fdff44b5fd4f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc1fc8eaa0139696ec31362384a37d5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#acc1fc8eaa0139696ec31362384a37d5f">FireRequests</a> (std::vector&lt; <a class="el" href="a01065.html">FullRayRequest</a> &gt; &amp;requests, bool parallel=true)</td></tr>
<tr class="memdesc:acc1fc8eaa0139696ec31362384a37d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fire a vector of ray requests.  <a href="a01061.html#acc1fc8eaa0139696ec31362384a37d5f">More...</a><br /></td></tr>
<tr class="separator:acc1fc8eaa0139696ec31362384a37d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd625932160afeebd0169967d733217"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a2fd625932160afeebd0169967d733217">FireOcclusionRequests</a> (std::vector&lt; <a class="el" href="a01065.html">FullRayRequest</a> &gt; &amp;requests, bool parallel=true)</td></tr>
<tr class="memdesc:a2fd625932160afeebd0169967d733217"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fire a vector of occlusion ray requests.  <a href="a01061.html#a2fd625932160afeebd0169967d733217">More...</a><br /></td></tr>
<tr class="separator:a2fd625932160afeebd0169967d733217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb4e7b71dcad5f274abe8d08a9defd09"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#adb4e7b71dcad5f274abe8d08a9defd09">InsertNewMesh</a> (std::vector&lt; std::array&lt; float, 3 &gt;&gt; &amp;Mesh, int ID, bool Commit=false)</td></tr>
<tr class="memdesc:adb4e7b71dcad5f274abe8d08a9defd09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new mesh to this raytracer's BVH with the specified ID.  <a href="a01061.html#adb4e7b71dcad5f274abe8d08a9defd09">More...</a><br /></td></tr>
<tr class="separator:adb4e7b71dcad5f274abe8d08a9defd09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb977b7d801e2f519dbd9a4d98d6e2a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a8eb977b7d801e2f519dbd9a4d98d6e2a">EmbreeRayTracer::InsertNewMesh</a> (<a class="el" href="a01025.html">HF::Geometry::MeshInfo</a> &amp;Mesh, bool Commit)</td></tr>
<tr class="memdesc:a8eb977b7d801e2f519dbd9a4d98d6e2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new mesh to the BVH with the specified ID. If False, then the addition failed, or the ID was already taken.  <a href="a01061.html#a8eb977b7d801e2f519dbd9a4d98d6e2a">More...</a><br /></td></tr>
<tr class="separator:a8eb977b7d801e2f519dbd9a4d98d6e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa254e5820c8f25bccfe9fbfb5e910029"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#aa254e5820c8f25bccfe9fbfb5e910029">InsertNewMesh</a> (std::vector&lt; <a class="el" href="a01025.html">HF::Geometry::MeshInfo</a> &gt; &amp;Meshes, bool Commit=true)</td></tr>
<tr class="memdesc:aa254e5820c8f25bccfe9fbfb5e910029"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add several new meshes to the BVH.  <a href="a01061.html#aa254e5820c8f25bccfe9fbfb5e910029">More...</a><br /></td></tr>
<tr class="separator:aa254e5820c8f25bccfe9fbfb5e910029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a795f5be6b5cedf3c849e8c67d41e220f"><td class="memTemplParams" colspan="2">template&lt;typename N , typename V &gt; </td></tr>
<tr class="memitem:a795f5be6b5cedf3c849e8c67d41e220f"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a01061.html#a795f5be6b5cedf3c849e8c67d41e220f">FireAnyRay</a> (const N &amp;node, const V &amp;direction, float &amp;out_distance, int &amp;out_meshid, float max_distance=-1.0f)</td></tr>
<tr class="memdesc:a795f5be6b5cedf3c849e8c67d41e220f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template for firing rays using array-like containers for the direction and origin.  <a href="a01061.html#a795f5be6b5cedf3c849e8c67d41e220f">More...</a><br /></td></tr>
<tr class="separator:a795f5be6b5cedf3c849e8c67d41e220f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6417676838ed1764531e344d9f3a75c"><td class="memTemplParams" colspan="2">template&lt;typename N , typename V &gt; </td></tr>
<tr class="memitem:aa6417676838ed1764531e344d9f3a75c"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a01061.html#aa6417676838ed1764531e344d9f3a75c">FireAnyOcclusionRay</a> (const N &amp;origin, const V &amp;direction, float max_distance=-1.0f, int mesh_id=-1)</td></tr>
<tr class="memdesc:aa6417676838ed1764531e344d9f3a75c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template for firing rays using array-like containers for the direction and origin. Similar to <a class="el" href="a01061.html#a795f5be6b5cedf3c849e8c67d41e220f" title="Template for firing rays using array-like containers for the direction and origin.">FireAnyRay</a>.  <a href="a01061.html#aa6417676838ed1764531e344d9f3a75c">More...</a><br /></td></tr>
<tr class="separator:aa6417676838ed1764531e344d9f3a75c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b9c1baf8390d8114c541d6a2ccb4f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a70b9c1baf8390d8114c541d6a2ccb4f4">operator=</a> (const <a class="el" href="a01061.html">EmbreeRayTracer</a> &amp;ERT2)</td></tr>
<tr class="memdesc:a70b9c1baf8390d8114c541d6a2ccb4f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment reference counters to prevent destruction when a copy is made.  <a href="a01061.html#a70b9c1baf8390d8114c541d6a2ccb4f4">More...</a><br /></td></tr>
<tr class="separator:a70b9c1baf8390d8114c541d6a2ccb4f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2948458e764f0294996c91b00356073e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a2948458e764f0294996c91b00356073e">~EmbreeRayTracer</a> ()</td></tr>
<tr class="memdesc:a2948458e764f0294996c91b00356073e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom destructor to ensure cleanup of embree resources.  <a href="a01061.html#a2948458e764f0294996c91b00356073e">More...</a><br /></td></tr>
<tr class="separator:a2948458e764f0294996c91b00356073e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5608742889ff45a0294fdf21e5a85b2e"><td class="memItemLeft" align="right" valign="top">RTCDevice&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a5608742889ff45a0294fdf21e5a85b2e">device</a></td></tr>
<tr class="memdesc:a5608742889ff45a0294fdf21e5a85b2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">All objects in Embree are created from this. <a href="https://www.embree.org/api.html#device-object">https://www.embree.org/api.html#device-object</a>.  <a href="a01061.html#a5608742889ff45a0294fdf21e5a85b2e">More...</a><br /></td></tr>
<tr class="separator:a5608742889ff45a0294fdf21e5a85b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c66f28f5b889021767745d198661da0"><td class="memItemLeft" align="right" valign="top">RTCScene&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a7c66f28f5b889021767745d198661da0">scene</a></td></tr>
<tr class="memdesc:a7c66f28f5b889021767745d198661da0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Container for a set of geometries, and the BVH. <a href="https://www.embree.org/api.html#scene-object">https://www.embree.org/api.html#scene-object</a>.  <a href="a01061.html#a7c66f28f5b889021767745d198661da0">More...</a><br /></td></tr>
<tr class="separator:a7c66f28f5b889021767745d198661da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01968c52807e6930909b7f9c31f45e80"><td class="memItemLeft" align="right" valign="top">RTCIntersectContext&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a01968c52807e6930909b7f9c31f45e80">context</a></td></tr>
<tr class="memdesc:a01968c52807e6930909b7f9c31f45e80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Context to fire rays within.  <a href="a01061.html#a01968c52807e6930909b7f9c31f45e80">More...</a><br /></td></tr>
<tr class="separator:a01968c52807e6930909b7f9c31f45e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eced6bbe321079476603f7e7ef97ed8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00175.html#a01053">Triangle</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a6eced6bbe321079476603f7e7ef97ed8">triangles</a></td></tr>
<tr class="memdesc:a6eced6bbe321079476603f7e7ef97ed8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="a00175.html#a01053" title="A triangle. Used internally in Embree.">Triangle</a> buffer. Is used in multiple places, but contents are dumped.  <a href="a01061.html#a6eced6bbe321079476603f7e7ef97ed8">More...</a><br /></td></tr>
<tr class="separator:a6eced6bbe321079476603f7e7ef97ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b06bf58c3b134de8f271fbc778e412"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00175.html#a01049">Vertex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a62b06bf58c3b134de8f271fbc778e412">Vertices</a></td></tr>
<tr class="memdesc:a62b06bf58c3b134de8f271fbc778e412"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="a00175.html#a01049" title="A vertex. Used internally in Embree.">Vertex</a> buffer. Is used in multiple places but contents are dumped.  <a href="a01061.html#a62b06bf58c3b134de8f271fbc778e412">More...</a><br /></td></tr>
<tr class="separator:a62b06bf58c3b134de8f271fbc778e412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a243ef02c74fc6df958a4fd2506e7cc"><td class="memItemLeft" align="right" valign="top">std::vector&lt; RTCGeometry &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01061.html#a3a243ef02c74fc6df958a4fd2506e7cc">geometry</a></td></tr>
<tr class="separator:a3a243ef02c74fc6df958a4fd2506e7cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A wrapper for Intel's Embree Library. </p>
<p>Provides several functions to quickly and simply perform ray intersections using Embree. This class will automatically dispose of Embree buffers when destroyed, incrementing Embree's reference counters on copy, and decrementing them on deletion. This class also provides methods for adding geometry to Embree's geometry buffers. </p>
<dl class="todo"><dt><b><a class="el" href="a00162.html#_todo000008">Todo:</a></b></dt><dd><p class="startdd">Could use a constructor overload for a single instance of meshinfo for conveience. </p>
<p class="enddd">Many functions support MeshID but don't actually check for it. </p>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="a00071_source.html#l00068">68</a> of file <a class="el" href="a00071_source.html">embree_raytracer.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac46476760e07cb2579eeb2b4c094522a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac46476760e07cb2579eeb2b4c094522a">&#9670;&nbsp;</a></span>EmbreeRayTracer() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HF::RayTracer::EmbreeRayTracer::EmbreeRayTracer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00071_source.html#l00083">83</a> of file <a class="el" href="a00071_source.html">embree_raytracer.h</a>.</p>

</div>
</div>
<a id="ab51061e309585cc48d58a6170ccea619"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab51061e309585cc48d58a6170ccea619">&#9670;&nbsp;</a></span>EmbreeRayTracer() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HF::RayTracer::EmbreeRayTracer::EmbreeRayTracer </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="a01025.html">HF::Geometry::MeshInfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>MI</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="a01061.html" title="A wrapper for Intel&#39;s Embree Library.">EmbreeRayTracer</a> and add a single mesh to the scene. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MI</td><td>The mesh to use for scene construction. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>Thrown if MI contains no vertices. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="a00162.html#_todo000009">Todo:</a></b></dt><dd>This function calls <code> throw; </code> <a href="https://en.cppreference.com/w/cpp/language/throw"></a> which is meant to only be used to rethrow previously thrown exceptions. This should be throwing <a class="el" href="a01013.html" title="Thrown when the desired object could not be read">HF::Exceptions::InvalidOBJ</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00453">453</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00071_source.html#l00074">context</a>, <a class="el" href="a00071_source.html#l00070">device</a>, <a class="el" href="a00068_source.html#l00543">InsertNewMesh()</a>, and <a class="el" href="a00071_source.html#l00072">scene</a>.</p>

</div>
</div>
<a id="a425bef2c0b6b26ee95aedb72089d84c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a425bef2c0b6b26ee95aedb72089d84c6">&#9670;&nbsp;</a></span>EmbreeRayTracer() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HF::RayTracer::EmbreeRayTracer::EmbreeRayTracer </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::array&lt; float, 3 &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>geometry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new Raytracer and generate its BVH from a flat array of vertices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">geometry</td><td>A vector of float arrays representing geometry. Every 3 arrays should form a single triangle of the mesh </td></tr>
  </table>
  </dd>
</dl>
<p>Use of this function is discouraged since it is slower and less memory efficent than building from an array of triangle indices and an array of vertices. Internally a hashmap is used to assign an ID to every vertex in order to generate the index array. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::exception</td><td>Embree's geometry buffers could not be initialized. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00221">221</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00071_source.html#l00074">context</a>, <a class="el" href="a00071_source.html#l00070">device</a>, <a class="el" href="a00071_source.html#l00080">geometry</a>, <a class="el" href="a00071_source.html#l00072">scene</a>, <a class="el" href="a00071_source.html#l00076">triangles</a>, <a class="el" href="a00068_source.html#l00146">HF::RayTracer::vectorsToBuffers()</a>, and <a class="el" href="a00071_source.html#l00078">Vertices</a>.</p>

</div>
</div>
<a id="a2948458e764f0294996c91b00356073e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2948458e764f0294996c91b00356073e">&#9670;&nbsp;</a></span>~EmbreeRayTracer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HF::RayTracer::EmbreeRayTracer::~EmbreeRayTracer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Custom destructor to ensure cleanup of embree resources. </p>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00662">662</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00071_source.html#l00070">device</a>, and <a class="el" href="a00071_source.html#l00072">scene</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8eb977b7d801e2f519dbd9a4d98d6e2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eb977b7d801e2f519dbd9a4d98d6e2a">&#9670;&nbsp;</a></span>EmbreeRayTracer::InsertNewMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HF::RayTracer::EmbreeRayTracer::EmbreeRayTracer::InsertNewMesh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a01025.html">HF::Geometry::MeshInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>Mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>Commit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new mesh to the BVH with the specified ID. If False, then the addition failed, or the ID was already taken. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Mesh</td><td>A vector of 3d points composing the mesh </td></tr>
    <tr><td class="paramname">ID</td><td>the id of the mesh </td></tr>
    <tr><td class="paramname">Commit</td><td>Whether or not to commit changes yet. This is slow, so only do this when you're done adding meshes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if successful </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::exception</td><td>RTC failed to allocate vertex and or index buffers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa6417676838ed1764531e344d9f3a75c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6417676838ed1764531e344d9f3a75c">&#9670;&nbsp;</a></span>FireAnyOcclusionRay()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename N , typename V &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool HF::RayTracer::EmbreeRayTracer::FireAnyOcclusionRay </td>
          <td>(</td>
          <td class="paramtype">const N &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const V &amp;&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_distance</em> = <code>-1.0f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mesh_id</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Template for firing rays using array-like containers for the direction and origin. Similar to <a class="el" href="a01061.html#a795f5be6b5cedf3c849e8c67d41e220f" title="Template for firing rays using array-like containers for the direction and origin.">FireAnyRay</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>A point in space. Must atleast have [0], [1], and [2] defined. </td></tr>
    <tr><td class="paramname">direction</td><td>Direction to fire the ray in. Same constraints as node, but can be a different type. </td></tr>
    <tr><td class="paramname">max_distance</td><td>Maximum distance the ray can travel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the ray connected with anything, false otherwise. </dd></dl>
<p>Like the other occlusion functions, this is much faster than its counterparts at the cost of only being able to return true if the ray intersects any geometry, and false if it doesn't. </p>
<dl class="section note"><dt>Note</dt><dd>C++ 2020's Concepts would be a good way to explain how to use this whenever they get implemented.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// Create Plane</span></div>
<div class="line"><span class="keyword">const</span> vector&lt;float&gt; plane_vertices{</div>
<div class="line">    -10.0f, 10.0f, 0.0f,</div>
<div class="line">    -10.0f, -10.0f, 0.0f,</div>
<div class="line">    10.0f, 10.0f, 0.0f,</div>
<div class="line">    10.0f, -10.0f, 0.0f,</div>
<div class="line">};</div>
<div class="line"><span class="keyword">const</span> vector&lt;int&gt; plane_indices{ 3, 1, 0, 2, 3, 0 };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create RayTracer</span></div>
<div class="line"><a class="code" href="a01061.html#ac46476760e07cb2579eeb2b4c094522a">EmbreeRayTracer</a> ert(vector&lt;MeshInfo&gt;{MeshInfo(plane_vertices, plane_indices, 0, <span class="stringliteral">&quot; &quot;</span>)});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight down</span></div>
<div class="line"><span class="keywordtype">bool</span> res = ert.FireAnyOcclusionRay(</div>
<div class="line">    std::array&lt;float, 3&gt;{0, 0, 1},</div>
<div class="line">    std::array&lt;float, 3&gt;{0, 0, -1}</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print Results</span></div>
<div class="line"><span class="keywordflow">if</span> (res) std::cerr &lt;&lt; <span class="stringliteral">&quot;True&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;False&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight up</span></div>
<div class="line">res = ert.FireAnyOcclusionRay(</div>
<div class="line">    std::array&lt;float, 3&gt;{0, 0, 1},</div>
<div class="line">    std::array&lt;float, 3&gt;{0, 0, 1}</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print Results</span></div>
<div class="line"><span class="keywordflow">if</span> (res) std::cerr &lt;&lt; <span class="stringliteral">&quot;True&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;False&quot;</span> &lt;&lt; std::endl;</div>
</div><!-- fragment --></dd></dl>
<p><code>&gt;&gt;&gt; True</code><br  />
<code>&gt;&gt;&gt; False</code> </p>

<p class="definition">Definition at line <a class="el" href="a00071_source.html#l00800">800</a> of file <a class="el" href="a00071_source.html">embree_raytracer.h</a>.</p>

<p class="reference">References <a class="el" href="a00068_source.html#l00384">FireOcclusionRay()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00029_source.html#l00027">HF::AnalysisMethods::VisibilityGraph::HeightCheck()</a>, and <a class="el" href="a00029_source.html#l00048">HF::AnalysisMethods::VisibilityGraph::IsOcclusionBetween()</a>.</p>

</div>
</div>
<a id="a795f5be6b5cedf3c849e8c67d41e220f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a795f5be6b5cedf3c849e8c67d41e220f">&#9670;&nbsp;</a></span>FireAnyRay()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename N , typename V &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool HF::RayTracer::EmbreeRayTracer::FireAnyRay </td>
          <td>(</td>
          <td class="paramtype">const N &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const V &amp;&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>out_distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>out_meshid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_distance</em> = <code>-1.0f</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Template for firing rays using array-like containers for the direction and origin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>A point in space. Must atleast have [0], [1], and [2] defined </td></tr>
    <tr><td class="paramname">direction</td><td>Direction to fire the ray in. Same constraints as node, but can be a different type </td></tr>
    <tr><td class="paramname">out_distance</td><td>distance from the ray to the hit (if any) </td></tr>
    <tr><td class="paramname">out_meshid</td><td>ID of the mesh hit(if any) </td></tr>
    <tr><td class="paramname">max_distance</td><td>Maximum distance the ray can travel. And intersections beyond this distance will be ignored. Will consider all intersections regardless of distance if set to -1. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the ray intersected any geometry, false otherwise. </dd></dl>
<p>This is preferrable to use over the other ray functions in many circumstances since the use of templates ensures no unnecessary conversions are performed. </p>
<dl class="section note"><dt>Note</dt><dd>C++ 2020's Concepts would be a good way to explain how to use this whenever they get implemented.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// Create Plane</span></div>
<div class="line"><span class="keyword">auto</span> ert = CreateRTWithPlane();</div>
<div class="line"><span class="keyword">const</span> std::vector&lt;float&gt; plane_vertices{</div>
<div class="line">    -10.0f, 10.0f, 0.0f,</div>
<div class="line">    -10.0f, -10.0f, 0.0f,</div>
<div class="line">    10.0f, 10.0f, 0.0f,</div>
<div class="line">    10.0f, -10.0f, 0.0f,</div>
<div class="line">};</div>
<div class="line"><span class="keyword">const</span> std::vector&lt;int&gt; plane_indices{ 3, 1, 0, 2, 3, 0 };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create RayTracer</span></div>
<div class="line"><a class="code" href="a01061.html#ac46476760e07cb2579eeb2b4c094522a">EmbreeRayTracer</a> ert(vector&lt;MeshInfo&gt;{MeshInfo(plane_vertices, plane_indices, 0, <span class="stringliteral">&quot; &quot;</span>)});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create origin/direction arrays</span></div>
<div class="line">std::array&lt;float, 3&gt; origin{ 0,0,1 };</div>
<div class="line">std::array&lt;float, 3&gt; direction{ 0,0,-1 };</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> res = <span class="keyword">false</span>; <span class="keywordtype">float</span> out_dist = -1; <span class="keywordtype">int</span> out_id = -1;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight down</span></div>
<div class="line">res = ert.FireAnyRay(origin, direction, out_dist, out_id);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print its distance if it connected</span></div>
<div class="line"><span class="keywordflow">if</span> (res) std::cerr &lt;&lt; out_dist &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;Miss&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight up</span></div>
<div class="line">res = ert.FireAnyRay(origin, origin, out_dist, out_id);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print its distance if it connected</span></div>
<div class="line"><span class="keywordflow">if</span> (res) std::cerr &lt;&lt; out_dist &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;Miss&quot;</span> &lt;&lt; std::endl;</div>
</div><!-- fragment --></dd></dl>
<p><code>&gt;&gt;&gt;(0, 0, 0)</code><br  />
<code>&gt;&gt;&gt;Miss</code> </p>

<p class="definition">Definition at line <a class="el" href="a00071_source.html#l00721">721</a> of file <a class="el" href="a00071_source.html">embree_raytracer.h</a>.</p>

<p class="reference">References <a class="el" href="a00068_source.html#l00363">Intersect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00137_source.html#l00052">FireRaysDistance()</a>, and <a class="el" href="a00137_source.html#l00039">FireSingleRayDistance()</a>.</p>

</div>
</div>
<a id="a54809c56dbaada56b6692668bf33780d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54809c56dbaada56b6692668bf33780d">&#9670;&nbsp;</a></span>FireOcclusionRay() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HF::RayTracer::EmbreeRayTracer::FireOcclusionRay </td>
          <td>(</td>
          <td class="paramtype">const std::array&lt; float, 3 &gt; &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::array&lt; float, 3 &gt; &amp;&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_dist</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cast an occlusion ray using arrays as input. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">origin</td><td>Start point of the ray. </td></tr>
    <tr><td class="paramname">direction</td><td>Direction of the ray. </td></tr>
    <tr><td class="paramname">max_dist</td><td>Maximum distance of the ray. Any hits beyond this distance will not be counted. If negative, count all hits regardless of distance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if The ray intersected any geometry, False otherwise. </dd></dl>
<p>Occulsion rays are faster than the other ray functions, but can only tell if a ray intersected any geometry or it didn't. use the other functions for information such as distance, hitpoint, or meshid. </p>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// Create Plane</span></div>
<div class="line"><span class="keyword">const</span> vector&lt;float&gt; plane_vertices{</div>
<div class="line">    -10.0f, 10.0f, 0.0f,</div>
<div class="line">    -10.0f, -10.0f, 0.0f,</div>
<div class="line">    10.0f, 10.0f, 0.0f,</div>
<div class="line">    10.0f, -10.0f, 0.0f,</div>
<div class="line">};</div>
<div class="line"><span class="keyword">const</span> vector&lt;int&gt; plane_indices{ 3, 1, 0, 2, 3, 0 };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create RayTracer</span></div>
<div class="line"><a class="code" href="a01061.html#ac46476760e07cb2579eeb2b4c094522a">EmbreeRayTracer</a> ert(vector&lt;MeshInfo&gt;{MeshInfo(plane_vertices, plane_indices, 0, <span class="stringliteral">&quot; &quot;</span>)});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight down</span></div>
<div class="line"><span class="keywordtype">bool</span> res = ert.FireOcclusionRay(</div>
<div class="line">    std::array&lt;float, 3&gt;{0, 0, 1},</div>
<div class="line">    std::array&lt;float, 3&gt;{0, 0, -1}</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print Result</span></div>
<div class="line"><span class="keywordflow">if</span> (res) std::cerr &lt;&lt; <span class="stringliteral">&quot;True&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;False&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight up</span></div>
<div class="line">res = ert.FireOcclusionRay(</div>
<div class="line">    std::array&lt;float, 3&gt;{0, 0, 1},</div>
<div class="line">    std::array&lt;float, 3&gt;{0, 0, 1}</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print Result.</span></div>
<div class="line"><span class="keywordflow">if</span> (res) std::cerr &lt;&lt; <span class="stringliteral">&quot;True&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;False&quot;</span> &lt;&lt; std::endl;</div>
</div><!-- fragment --></dd></dl>
<p><code>&gt;&gt;&gt; True</code><br  />
<code>&gt;&gt;&gt; False</code> </p>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00384">384</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00071_source.html#l00800">FireAnyOcclusionRay()</a>, <a class="el" href="a00068_source.html#l00392">FireOcclusionRays()</a>, and <a class="el" href="a00011_source.html#l00101">HF::AnalysisMethods::GraphGeneratorPrivate::OcclusionCheck()</a>.</p>

</div>
</div>
<a id="aaf5a611b81d21ff616fdff44b5fd4f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf5a611b81d21ff616fdff44b5fd4f30">&#9670;&nbsp;</a></span>FireOcclusionRay() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HF::RayTracer::EmbreeRayTracer::FireOcclusionRay </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>distance</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mesh_id</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cast a single occlusion ray. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>x component of the ray's origin. </td></tr>
    <tr><td class="paramname">y</td><td>y component of the ray's origin. </td></tr>
    <tr><td class="paramname">z</td><td>z component of the ray's origin. </td></tr>
    <tr><td class="paramname">dx</td><td>x component of the ray's direction. </td></tr>
    <tr><td class="paramname">dy</td><td>y component of the ray's direction. </td></tr>
    <tr><td class="paramname">dz</td><td>z component of the ray's direction. </td></tr>
    <tr><td class="paramname">distance</td><td>Maximum distance of the ray. Any hits beyond this distance will not be counted. If negative, count all hits regardless of distance. </td></tr>
    <tr><td class="paramname">mesh_id</td><td>(NOT IMPLEMENTED) The id of the only mesh for this ray to collide with. -1 for all. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the ray intersected any geometry. False otherwise. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// Create Plane</span></div>
<div class="line"><span class="keyword">const</span> vector&lt;float&gt; plane_vertices{</div>
<div class="line">    -10.0f, 10.0f, 0.0f,</div>
<div class="line">    -10.0f, -10.0f, 0.0f,</div>
<div class="line">    10.0f, 10.0f, 0.0f,</div>
<div class="line">    10.0f, -10.0f, 0.0f,</div>
<div class="line">};</div>
<div class="line"><span class="keyword">const</span> vector&lt;int&gt; plane_indices{ 3, 1, 0, 2, 3, 0 };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create RayTracer</span></div>
<div class="line"><a class="code" href="a01061.html#ac46476760e07cb2579eeb2b4c094522a">EmbreeRayTracer</a> ert(vector&lt;MeshInfo&gt;{MeshInfo(plane_vertices, plane_indices, 0, <span class="stringliteral">&quot; &quot;</span>)});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight down</span></div>
<div class="line"><span class="keywordtype">bool</span> res = ert.FireOcclusionRay(0,0,1,0,0,-1);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print Results</span></div>
<div class="line"><span class="keywordflow">if</span> (res) std::cerr &lt;&lt; <span class="stringliteral">&quot;True&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;False&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight up</span></div>
<div class="line">res = ert.FireOcclusionRay(0,0,1,0,0,1);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print results</span></div>
<div class="line"><span class="keywordflow">if</span> (res) std::cerr &lt;&lt; <span class="stringliteral">&quot;True&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;False&quot;</span> &lt;&lt; std::endl;</div>
</div><!-- fragment --></dd></dl>
<p><code>&gt;&gt;&gt; True</code><br  />
<code>&gt;&gt;&gt; False</code> </p>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00513">513</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00071_source.html#l00074">context</a>, and <a class="el" href="a00071_source.html#l00072">scene</a>.</p>

</div>
</div>
<a id="a18e55d29b728c4c868883e20c2bf5883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18e55d29b728c4c868883e20c2bf5883">&#9670;&nbsp;</a></span>FireOcclusionRays()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; bool &gt; HF::RayTracer::EmbreeRayTracer::FireOcclusionRays </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::array&lt; float, 3 &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>origins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::array&lt; float, 3 &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>directions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_distance</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>use_parallel</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cast multiple occlusion rays in parallel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">origins</td><td>A list of origins. If only one is supplied then it will be fired for every direction in directions. </td></tr>
    <tr><td class="paramname">directions</td><td>A list of directions. If only one is supplied then it will be fired for every origin in origins </td></tr>
    <tr><td class="paramname">max_distance</td><td>Maximum distance the ray can travel </td></tr>
    <tr><td class="paramname">parallel</td><td>Whether or not to fire the rays in parallel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An ordered array of bools where every true indicates a hit and every false indicates a miss. </dd></dl>
<p>Can be fired in 3 configurations: </p>
<ul>
<li>
Equal amount of directions/origins: Fire a ray for every pair of origin/direction in order. i.e. (origin[0], direction[0]), (origin[1], direction[1])  </li>
<li>
One direction, multiple origins: Fire a ray in the given direction from each origin point in origins.  </li>
<li>
One origin, multiple directions: Fire a ray from the origin point in each direction in directions.  </li>
</ul>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// Create Plane</span></div>
<div class="line"><span class="keyword">const</span> std::vector&lt;float&gt; plane_vertices{</div>
<div class="line">    -10.0f, 10.0f, 0.0f,</div>
<div class="line">    -10.0f, -10.0f, 0.0f,</div>
<div class="line">    10.0f, 10.0f, 0.0f,</div>
<div class="line">    10.0f, -10.0f, 0.0f,</div>
<div class="line">};</div>
<div class="line"><span class="keyword">const</span> std::vector&lt;int&gt; plane_indices{ 3, 1, 0, 2, 3, 0 };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create RayTracer</span></div>
<div class="line"><a class="code" href="a01061.html#ac46476760e07cb2579eeb2b4c094522a">EmbreeRayTracer</a> ert(vector&lt;MeshInfo&gt;{MeshInfo(plane_vertices, plane_indices, 0, <span class="stringliteral">&quot; &quot;</span>)});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create an array of directions all containing {0,0,-1}</span></div>
<div class="line">std::vector&lt;std::array&lt;float, 3&gt;&gt; directions(10, std::array&lt;float, 3&gt;{0, 0, -1});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create an array of origins with the first 5 values being above the plane and</span></div>
<div class="line"><span class="comment">// the last five values being under it.</span></div>
<div class="line">std::vector&lt;std::array&lt;float, 3&gt;&gt; origins(10);</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 5; i++) origins[i] = std::array&lt;float, 3&gt;{0.0f, 0.0f, 1.0f};</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 5; i &lt; 10; i++) origins[i] = std::array&lt;float, 3&gt;{0.0f, 0.0f, -1.0f};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Cast every occlusion ray</span></div>
<div class="line">std::vector&lt;bool&gt; results = ert.FireOcclusionRays(origins, directions);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Iterate through all results to print them</span></div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span>;</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++) {</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Print true if the ray intersected, false otherwise</span></div>
<div class="line">    <span class="keywordflow">if</span> (results[i]) std::cout &lt;&lt; <span class="stringliteral">&quot;True&quot;</span>;</div>
<div class="line">    <span class="keywordflow">else</span> std::cout &lt;&lt; <span class="stringliteral">&quot;False&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Add a comma if it&#39;s not the last member</span></div>
<div class="line">    <span class="keywordflow">if</span> (i != 9) std::cout &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line">}</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::endl;</div>
</div><!-- fragment --> <code>&gt;&gt;&gt; [True, True, True, True, True, False, False, False, False, False]</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00392">392</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00068_source.html#l00384">FireOcclusionRay()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00137_source.html#l00212">FireOcclusionRays()</a>.</p>

</div>
</div>
<a id="a2fd625932160afeebd0169967d733217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fd625932160afeebd0169967d733217">&#9670;&nbsp;</a></span>FireOcclusionRequests()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HF::RayTracer::EmbreeRayTracer::FireOcclusionRequests </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="a01065.html">FullRayRequest</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>requests</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>parallel</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fire a vector of occlusion ray requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">requests</td><td>A list of requests to fire. Each request will be updated with hitpoints if successful. </td></tr>
    <tr><td class="paramname">parallel</td><td>If true, fire rays in parallel </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="a00161.html#_deprecated000015">Deprecated:</a></b></dt><dd>Never used. Holdover from the previous codebase. </dd></dl>

</div>
</div>
<a id="a5d8230c1d095cb539c5be8becaeb2d5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d8230c1d095cb539c5be8becaeb2d5d">&#9670;&nbsp;</a></span>FireRay() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HF::RayTracer::EmbreeRayTracer::FireRay </td>
          <td>(</td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>distance</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mesh_id</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cast a single ray and get the hitpoint. <em>x</em> , <em>y</em> ,and <em>z</em>  are overridden with the hitpoint on a successful hit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>x component of the ray's origin. </td></tr>
    <tr><td class="paramname">y</td><td>y component of the ray's origin. </td></tr>
    <tr><td class="paramname">z</td><td>z component of the ray's origin. </td></tr>
    <tr><td class="paramname">dx</td><td>x component of the ray's direction. </td></tr>
    <tr><td class="paramname">dy</td><td>y component of the ray's direction. </td></tr>
    <tr><td class="paramname">dz</td><td>z component of the ray's direction. </td></tr>
    <tr><td class="paramname">distance</td><td>Any intersections beyond this distance are ignored. Set to -1 count any hit regardless of distance. </td></tr>
    <tr><td class="paramname">mesh_id</td><td>(UNUSED) The id of the only mesh for this ray to collide with. Any geometry wihtout this ID is ignored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the ray hit, false otherwise </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// Create Plane</span></div>
<div class="line"><span class="keyword">const</span> vector&lt;float&gt; plane_vertices{</div>
<div class="line">    -10.0f, 10.0f, 0.0f,</div>
<div class="line">    -10.0f, -10.0f, 0.0f,</div>
<div class="line">    10.0f, 10.0f, 0.0f,</div>
<div class="line">    10.0f, -10.0f, 0.0f,</div>
<div class="line">};</div>
<div class="line"><span class="keyword">const</span> vector&lt;int&gt; plane_indices{ 3, 1, 0, 2, 3, 0 };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create RayTracer</span></div>
<div class="line"><a class="code" href="a01061.html#ac46476760e07cb2579eeb2b4c094522a">EmbreeRayTracer</a> ert(vector&lt;MeshInfo&gt;{MeshInfo(plane_vertices, plane_indices, 0, <span class="stringliteral">&quot; &quot;</span>)});</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> res;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight down directly at the plane</span></div>
<div class="line"><span class="keywordtype">float</span> x = 0; <span class="keywordtype">float</span> y = 0;<span class="keywordtype">float</span> z = 1;</div>
<div class="line">res = ert.FireRay(x, y, z, 0, 0, -1);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print output</span></div>
<div class="line"><span class="keywordflow">if</span> (res) std::cerr &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; x &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; y &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; z &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;Miss&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight up</span></div>
<div class="line">x = 0; y = 0; z = 1;</div>
<div class="line">res = ert.FireRay(x, y, z, 0, 0, 1);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print output</span></div>
<div class="line"><span class="keywordflow">if</span> (res) std::cerr &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; x &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; y &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; z &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;Miss&quot;</span> &lt;&lt; std::endl;</div>
</div><!-- fragment --></dd></dl>
<p><code>&gt;&gt;&gt;(0, 0, 0)</code><br  />
<code>&gt;&gt;&gt;Miss</code> </p>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00265">265</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00068_source.html#l00036">HF::RayTracer::CheckState()</a>, <a class="el" href="a00071_source.html#l00074">context</a>, <a class="el" href="a00071_source.html#l00070">device</a>, and <a class="el" href="a00071_source.html#l00072">scene</a>.</p>

</div>
</div>
<a id="a61aa9665f98c3383c2d5cbdef6e4ac00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61aa9665f98c3383c2d5cbdef6e4ac00">&#9670;&nbsp;</a></span>FireRay() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HF::RayTracer::EmbreeRayTracer::FireRay </td>
          <td>(</td>
          <td class="paramtype">std::array&lt; float, 3 &gt; &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::array&lt; float, 3 &gt; &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>distance</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mesh_id</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cast a ray and overwrite the origin with the hitpoint if it intersects any geometry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>Direction to fire the ray in. </td></tr>
    <tr><td class="paramname">origin</td><td>Start point of the ray. Updated to contain the hitpoint if successful. </td></tr>
    <tr><td class="paramname">distance</td><td>Any hits beyond this distance are ignored. Set to -1 to count all intersections regardless of distance. </td></tr>
    <tr><td class="paramname">mesh_id</td><td>(UNUSED) The id of the only mesh for this ray to collide with. -1 for all </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the ray intersected some geometry and the origin is updated with the hit point. False otherwise. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// Create Plane</span></div>
<div class="line"><span class="keyword">const</span> vector&lt;float&gt; plane_vertices{</div>
<div class="line">    -10.0f, 10.0f, 0.0f,</div>
<div class="line">    -10.0f, -10.0f, 0.0f,</div>
<div class="line">    10.0f, 10.0f, 0.0f,</div>
<div class="line">    10.0f, -10.0f, 0.0f,</div>
<div class="line">};</div>
<div class="line"><span class="keyword">const</span> vector&lt;int&gt; plane_indices{ 3, 1, 0, 2, 3, 0 };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create RayTracer</span></div>
<div class="line"><a class="code" href="a01061.html#ac46476760e07cb2579eeb2b4c094522a">EmbreeRayTracer</a> ert(vector&lt;MeshInfo&gt;{MeshInfo(plane_vertices, plane_indices, 0, <span class="stringliteral">&quot; &quot;</span>)});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight down</span></div>
<div class="line">std::array&lt;float, 3&gt; origin{ 0,0,1 };</div>
<div class="line"><span class="keywordtype">bool</span> res = ert.FireRay(</div>
<div class="line">    origin,</div>
<div class="line">    std::array&lt;float, 3&gt;{0, 0, -1}</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print Results</span></div>
<div class="line"><span class="keywordflow">if</span> (res) std::cerr &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; origin[0] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; origin[1] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; origin[2] &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;Miss&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight up</span></div>
<div class="line">origin = std::array&lt;float,3&gt;{ 0,0,1 };</div>
<div class="line">res = ert.FireRay(</div>
<div class="line">    origin,</div>
<div class="line">    std::array&lt;float, 3&gt;{0, 0, 1}</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print Results</span></div>
<div class="line"><span class="keywordflow">if</span> (res) std::cerr &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; origin[0] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; origin[1] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; origin[2] &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;Miss&quot;</span> &lt;&lt; std::endl;</div>
</div><!-- fragment --></dd></dl>
<p><code>&gt;&gt;&gt;(0,0,0)</code><br  />
<code>&gt;&gt;&gt;Miss</code> </p>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00256">256</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00011_source.html#l00322">HF::AnalysisMethods::GraphGeneratorPrivate::CheckRay()</a>, <a class="el" href="a00137_source.html#l00134">FireRay()</a>, and <a class="el" href="a00068_source.html#l00300">FireRays()</a>.</p>

</div>
</div>
<a id="a3348672e98a6b29edca1cfe65f5b9195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3348672e98a6b29edca1cfe65f5b9195">&#9670;&nbsp;</a></span>FireRays()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; bool &gt; HF::RayTracer::EmbreeRayTracer::FireRays </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::array&lt; float, 3 &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>origins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::array&lt; float, 3 &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>directions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>use_parallel</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_distance</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mesh_id</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fire multiple rays and recieve hitpoints in return. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">origins</td><td>An array of x,y,z coordinates to fire rays from. </td></tr>
    <tr><td class="paramname">directions</td><td>An array of x,y,z directions to fire in. </td></tr>
    <tr><td class="paramname">use_parallel</td><td>Cast rays in parallel if true, if not fire in serial. All available cores will be used. </td></tr>
    <tr><td class="paramname">max_distance</td><td>Maximum distance the ray can travel. Any intersections beyond this distance will be ignored. If set to 1, all intersections will be counted regardless of distance. </td></tr>
    <tr><td class="paramname">mesh_id</td><td>(UNUSED) Only intersect with the mesh of this ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of Vector3D for the hitpoint of each ray fired. If a ray didn't hit, its point will be invalid, checkable using Vector3D.IsValid(). </dd></dl>
<p>Can be fired in 3 configurations: </p>
<ul>
<li>
Equal amount of directions/origins: Fire a ray for every pair of origin/direction in order. i.e. (origin[0], direction[0]), (origin[1], direction[1])  </li>
<li>
One direction, multiple origins: Fire a ray in the given direction from each origin point in origins.  </li>
<li>
One origin, multiple directions: Fire a ray from the origin point in each direction in directions.  </li>
</ul>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">System.ArgumentException</td><td>Length of <em>directions</em>  and <em>origins</em>  did not match any of the valid cases. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// Create plane</span></div>
<div class="line"><span class="keyword">const</span> std::vector&lt;float&gt; plane_vertices{</div>
<div class="line">    -10.0f, 10.0f, 0.0f,</div>
<div class="line">    -10.0f, -10.0f, 0.0f,</div>
<div class="line">    10.0f, 10.0f, 0.0f,</div>
<div class="line">    10.0f, -10.0f, 0.0f,</div>
<div class="line">};</div>
<div class="line"><span class="keyword">const</span> std::vector&lt;int&gt; plane_indices{ 3, 1, 0, 2, 3, 0 };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create RayTracer</span></div>
<div class="line"><a class="code" href="a01061.html#ac46476760e07cb2579eeb2b4c094522a">EmbreeRayTracer</a> ert(vector&lt;MeshInfo&gt;{MeshInfo(plane_vertices, plane_indices, 0, <span class="stringliteral">&quot; &quot;</span>)});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create an array of directions all containing {0,0,-1}</span></div>
<div class="line">std::vector&lt;std::array&lt;float, 3&gt;&gt; directions(10, std::array&lt;float, 3&gt;{0, 0, -1});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create an array of origin points moving further to the left with each point</span></div>
<div class="line">std::vector&lt;std::array&lt;float, 3&gt;&gt; origins(10);</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++) origins[i] = std::array&lt;float, 3&gt;{<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(2*i), 0, 1};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire every ray.</span></div>
<div class="line"><span class="keyword">auto</span> results = ert.FireRays(origins, directions);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print results</span></div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span>;</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++) {</div>
<div class="line">    <span class="keywordflow">if</span> (results[i])</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; origins[i][0] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; origins[i][1] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; origins[i][2] &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Miss&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (i != 9) std::cout &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line">}</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::endl;</div>
</div><!-- fragment --></dd></dl>
<p><code>&gt;&gt;&gt; [(0, 0, 0), (1.99, 0, 0), (3.98, 0, 0), (5.97, 0, 0), (7.96, 0, 0), (9.95, 0, 0), Miss, Miss, Miss, Miss]</code> </p>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00300">300</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00068_source.html#l00256">FireRay()</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00137_source.html#l00190">FireMultipleDirectionsOneOrigin()</a>, <a class="el" href="a00137_source.html#l00168">FireMultipleOriginsOneDirection()</a>, and <a class="el" href="a00137_source.html#l00140">FireMultipleRays()</a>.</p>

</div>
</div>
<a id="acc1fc8eaa0139696ec31362384a37d5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc1fc8eaa0139696ec31362384a37d5f">&#9670;&nbsp;</a></span>FireRequests()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HF::RayTracer::EmbreeRayTracer::FireRequests </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="a01065.html">FullRayRequest</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>requests</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>parallel</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fire a vector of ray requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">requests</td><td>A list of requests to fire. These requests will be updated with the results of each shot. </td></tr>
    <tr><td class="paramname">parallel</td><td>If true will fire rays in parallel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="a00161.html#_deprecated000014">Deprecated:</a></b></dt><dd>Never used. Holdover from the previous codebase. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00529">529</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00071_source.html#l00074">context</a>, <a class="el" href="a00068_source.html#l00475">HF::RayTracer::Fire8Rays()</a>, and <a class="el" href="a00071_source.html#l00072">scene</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00023_source.html#l00180">HF::AnalysisMethods::ViewAnalysis::SphericalViewAnalysisFromRayRequests()</a>.</p>

</div>
</div>
<a id="aa254e5820c8f25bccfe9fbfb5e910029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa254e5820c8f25bccfe9fbfb5e910029">&#9670;&nbsp;</a></span>InsertNewMesh() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HF::RayTracer::EmbreeRayTracer::InsertNewMesh </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="a01025.html">HF::Geometry::MeshInfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>Meshes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>Commit</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add several new meshes to the BVH. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Meshes</td><td>A vector of meshinfo to each be added as a seperate mesh. </td></tr>
    <tr><td class="paramname">Commit</td><td>Whether or not to commit changes to the scene after all meshes in Meshes have been added. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00639">639</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00068_source.html#l00543">InsertNewMesh()</a>, and <a class="el" href="a00071_source.html#l00072">scene</a>.</p>

</div>
</div>
<a id="adb4e7b71dcad5f274abe8d08a9defd09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb4e7b71dcad5f274abe8d08a9defd09">&#9670;&nbsp;</a></span>InsertNewMesh() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HF::RayTracer::EmbreeRayTracer::InsertNewMesh </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::array&lt; float, 3 &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>Mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>Commit</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new mesh to this raytracer's BVH with the specified ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Mesh</td><td>A vector of 3d points composing the mesh </td></tr>
    <tr><td class="paramname">ID</td><td>the id of the mesh </td></tr>
    <tr><td class="paramname">Commit</td><td>Whether or not to commit changes yet. This is slow, so only do this when you're done adding meshes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the mesh was added successfully, false if the addition failed or the ID was already taken. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::exception</td><td>Embree failed to allocate vertex and or index buffers. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00543">543</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00071_source.html#l00070">device</a>, <a class="el" href="a00071_source.html#l00080">geometry</a>, <a class="el" href="a00071_source.html#l00072">scene</a>, <a class="el" href="a00071_source.html#l00076">triangles</a>, <a class="el" href="a00068_source.html#l00146">HF::RayTracer::vectorsToBuffers()</a>, and <a class="el" href="a00071_source.html#l00078">Vertices</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00068_source.html#l00453">EmbreeRayTracer()</a>, and <a class="el" href="a00068_source.html#l00639">InsertNewMesh()</a>.</p>

</div>
</div>
<a id="ab65abb62a043f237cec50661077610c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab65abb62a043f237cec50661077610c8">&#9670;&nbsp;</a></span>Intersect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01057.html">HitStruct</a> HF::RayTracer::EmbreeRayTracer::Intersect </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_distance</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mesh_id</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cast a ray and store all relevant information in a <a class="el" href="a01057.html" title="A simple hit struct to carry all relevant information about hits.">HitStruct</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>x component of the ray's origin. </td></tr>
    <tr><td class="paramname">y</td><td>y component of the ray's origin. </td></tr>
    <tr><td class="paramname">z</td><td>z component of the ray's origin. </td></tr>
    <tr><td class="paramname">dx</td><td>x component of the ray's direction. </td></tr>
    <tr><td class="paramname">dy</td><td>y component of the ray's direction. </td></tr>
    <tr><td class="paramname">dz</td><td>z component of the ray's direction. </td></tr>
    <tr><td class="paramname">max_distance</td><td>Maximum distance the ray can travel. Any intersections beyond this distance will be ignored. If set to -1, all intersections will be counted regardless of distance. </td></tr>
    <tr><td class="paramname">mesh_id</td><td>(UNIMPLEMENTED) the id of the only mesh for this ray to collide with. Any geometry wihtout this ID is ignored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="a01057.html" title="A simple hit struct to carry all relevant information about hits.">HitStruct</a> containing information about the intersection if any occurred. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// Create Plane</span></div>
<div class="line"><span class="keyword">const</span> vector&lt;float&gt; plane_vertices{</div>
<div class="line">    -10.0f, 10.0f, 0.0f,</div>
<div class="line">    -10.0f, -10.0f, 0.0f,</div>
<div class="line">    10.0f, 10.0f, 0.0f,</div>
<div class="line">    10.0f, -10.0f, 0.0f,</div>
<div class="line">};</div>
<div class="line"><span class="keyword">const</span> vector&lt;int&gt; plane_indices{ 3, 1, 0, 2, 3, 0 };</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create RayTracer</span></div>
<div class="line"><a class="code" href="a01061.html#ac46476760e07cb2579eeb2b4c094522a">EmbreeRayTracer</a> ert(vector&lt;MeshInfo&gt;{MeshInfo(plane_vertices, plane_indices, 0, <span class="stringliteral">&quot; &quot;</span>)});</div>
<div class="line"> </div>
<div class="line">HitStruct res;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight down</span></div>
<div class="line">res = ert.Intersect(0, 0, 1, 0, 0, -1);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print distance if it connected</span></div>
<div class="line"><span class="keywordflow">if</span> (res.DidHit()) std::cerr &lt;&lt; res.distance &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;Miss&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fire a ray straight up</span></div>
<div class="line">res = ert.Intersect(0, 0, 1, 0, 0, 1);</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Print distance if it connected</span></div>
<div class="line"><span class="keywordflow">if</span> (res.DidHit()) std::cerr &lt;&lt; res.distance &lt;&lt; std::endl;</div>
<div class="line"><span class="keywordflow">else</span> std::cerr &lt;&lt; <span class="stringliteral">&quot;Miss&quot;</span> &lt;&lt; std::endl;</div>
</div><!-- fragment --></dd></dl>
<p><code>&gt;&gt;&gt;1</code><br  />
<code>&gt;&gt;&gt;Miss</code> </p>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00363">363</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00071_source.html#l00074">context</a>, and <a class="el" href="a00071_source.html#l00072">scene</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00071_source.html#l00721">FireAnyRay()</a>.</p>

</div>
</div>
<a id="a70b9c1baf8390d8114c541d6a2ccb4f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70b9c1baf8390d8114c541d6a2ccb4f4">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HF::RayTracer::EmbreeRayTracer::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a01061.html">EmbreeRayTracer</a> &amp;&#160;</td>
          <td class="paramname"><em>ERT2</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increment reference counters to prevent destruction when a copy is made. </p>

<p class="definition">Definition at line <a class="el" href="a00068_source.html#l00651">651</a> of file <a class="el" href="a00068_source.html">embree_raytracer.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00071_source.html#l00074">context</a>, <a class="el" href="a00071_source.html#l00070">device</a>, <a class="el" href="a00071_source.html#l00080">geometry</a>, and <a class="el" href="a00071_source.html#l00072">scene</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a01968c52807e6930909b7f9c31f45e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01968c52807e6930909b7f9c31f45e80">&#9670;&nbsp;</a></span>context</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RTCIntersectContext HF::RayTracer::EmbreeRayTracer::context</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Context to fire rays within. </p>

<p class="definition">Definition at line <a class="el" href="a00071_source.html#l00074">74</a> of file <a class="el" href="a00071_source.html">embree_raytracer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00068_source.html#l00221">EmbreeRayTracer()</a>, <a class="el" href="a00068_source.html#l00513">FireOcclusionRay()</a>, <a class="el" href="a00068_source.html#l00265">FireRay()</a>, <a class="el" href="a00068_source.html#l00529">FireRequests()</a>, <a class="el" href="a00068_source.html#l00363">Intersect()</a>, and <a class="el" href="a00068_source.html#l00651">operator=()</a>.</p>

</div>
</div>
<a id="a5608742889ff45a0294fdf21e5a85b2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5608742889ff45a0294fdf21e5a85b2e">&#9670;&nbsp;</a></span>device</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RTCDevice HF::RayTracer::EmbreeRayTracer::device</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All objects in Embree are created from this. <a href="https://www.embree.org/api.html#device-object">https://www.embree.org/api.html#device-object</a>. </p>

<p class="definition">Definition at line <a class="el" href="a00071_source.html#l00070">70</a> of file <a class="el" href="a00071_source.html">embree_raytracer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00068_source.html#l00221">EmbreeRayTracer()</a>, <a class="el" href="a00068_source.html#l00265">FireRay()</a>, <a class="el" href="a00068_source.html#l00543">InsertNewMesh()</a>, <a class="el" href="a00068_source.html#l00651">operator=()</a>, and <a class="el" href="a00068_source.html#l00662">~EmbreeRayTracer()</a>.</p>

</div>
</div>
<a id="a3a243ef02c74fc6df958a4fd2506e7cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a243ef02c74fc6df958a4fd2506e7cc">&#9670;&nbsp;</a></span>geometry</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;RTCGeometry&gt; HF::RayTracer::EmbreeRayTracer::geometry</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00071_source.html#l00080">80</a> of file <a class="el" href="a00071_source.html">embree_raytracer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00068_source.html#l00221">EmbreeRayTracer()</a>, <a class="el" href="a00068_source.html#l00543">InsertNewMesh()</a>, and <a class="el" href="a00068_source.html#l00651">operator=()</a>.</p>

</div>
</div>
<a id="a7c66f28f5b889021767745d198661da0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c66f28f5b889021767745d198661da0">&#9670;&nbsp;</a></span>scene</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RTCScene HF::RayTracer::EmbreeRayTracer::scene</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Container for a set of geometries, and the BVH. <a href="https://www.embree.org/api.html#scene-object">https://www.embree.org/api.html#scene-object</a>. </p>

<p class="definition">Definition at line <a class="el" href="a00071_source.html#l00072">72</a> of file <a class="el" href="a00071_source.html">embree_raytracer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00068_source.html#l00221">EmbreeRayTracer()</a>, <a class="el" href="a00068_source.html#l00513">FireOcclusionRay()</a>, <a class="el" href="a00068_source.html#l00265">FireRay()</a>, <a class="el" href="a00068_source.html#l00529">FireRequests()</a>, <a class="el" href="a00068_source.html#l00543">InsertNewMesh()</a>, <a class="el" href="a00068_source.html#l00363">Intersect()</a>, <a class="el" href="a00068_source.html#l00651">operator=()</a>, and <a class="el" href="a00068_source.html#l00662">~EmbreeRayTracer()</a>.</p>

</div>
</div>
<a id="a6eced6bbe321079476603f7e7ef97ed8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eced6bbe321079476603f7e7ef97ed8">&#9670;&nbsp;</a></span>triangles</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00175.html#a01053">Triangle</a>* HF::RayTracer::EmbreeRayTracer::triangles</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="a00175.html#a01053" title="A triangle. Used internally in Embree.">Triangle</a> buffer. Is used in multiple places, but contents are dumped. </p>

<p class="definition">Definition at line <a class="el" href="a00071_source.html#l00076">76</a> of file <a class="el" href="a00071_source.html">embree_raytracer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00068_source.html#l00221">EmbreeRayTracer()</a>, and <a class="el" href="a00068_source.html#l00543">InsertNewMesh()</a>.</p>

</div>
</div>
<a id="a62b06bf58c3b134de8f271fbc778e412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62b06bf58c3b134de8f271fbc778e412">&#9670;&nbsp;</a></span>Vertices</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00175.html#a01049">Vertex</a>* HF::RayTracer::EmbreeRayTracer::Vertices</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="a00175.html#a01049" title="A vertex. Used internally in Embree.">Vertex</a> buffer. Is used in multiple places but contents are dumped. </p>

<p class="definition">Definition at line <a class="el" href="a00071_source.html#l00078">78</a> of file <a class="el" href="a00071_source.html">embree_raytracer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00068_source.html#l00221">EmbreeRayTracer()</a>, and <a class="el" href="a00068_source.html#l00543">InsertNewMesh()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Cpp/raytracer/src/<a class="el" href="a00071_source.html">embree_raytracer.h</a></li>
<li>Cpp/raytracer/src/<a class="el" href="a00068_source.html">embree_raytracer.cpp</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aa01061_html_ac46476760e07cb2579eeb2b4c094522a"><div class="ttname"><a href="a01061.html#ac46476760e07cb2579eeb2b4c094522a">HF::RayTracer::EmbreeRayTracer::EmbreeRayTracer</a></div><div class="ttdeci">EmbreeRayTracer()</div><div class="ttdef"><b>Definition:</b> <a href="a00071_source.html#l00083">embree_raytracer.h:83</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
