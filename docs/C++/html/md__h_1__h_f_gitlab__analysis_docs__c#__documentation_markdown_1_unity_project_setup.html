<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Analysis: Setting Up a Unity Project for Human Factors</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Analysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Setting Up a Unity Project for Human Factors </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Next Tutorial: <a class="el" href="_using_the_raytracer.html">Using The Raytracer</a></p>
<ul>
<li><a href="#setting-up-a-unity-project-for-human-factors">Setting Up a Unity Project for Human Factors</a><ul>
<li><a href="#before-we-begin">Before we begin</a><ul>
<li><a href="#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li><a href="#creating-a-new-project">Creating a new project</a></li>
<li><a href="#importing-the-human-factors-library">Importing the Human Factors Library</a></li>
<li><a href="#verifying-unity-can-reference-humanfactors">Verifying Unity can reference HumanFactors</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md1"></a>
Before we begin</h1>
<p>This guide will demonstrate setting up a new Unity project from scratch, importing the HumanFactors API as an asset, then verifying the Unity project can reference it.</p>
<p>In this guide we will cover the following:</p>
<ul>
<li>Creating a new Unity project.</li>
<li>Importing HumanFactors to a Unity project.</li>
<li>Verifying that a Unity project code can reference HumanFactors.</li>
</ul>
<h2><a class="anchor" id="autotoc_md2"></a>
Prerequisites</h2>
<ul>
<li>An installation of <a href="https://unity3d.com/get-unity/download">Unity</a>. This tutorial has been tested with Unity 2019.3f, but should work from 2018.3 on.</li>
<li>An installation of Visual Studio with Unity integration. Instructions for installing Unity with support for Visual Studio or adding VisualStudio support to an existing installation of Unity are available <a href="https://docs.microsoft.com/en-us/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity?view=vs-2019">here</a>.</li>
<li>A copy of the HumanFactors release built with support for C#. The <code>bin</code> folder of the release should contain the following files:<ol type="1">
<li>embree3.dll</li>
<li>HumanFactors.dll</li>
<li>HumanFactorsCSharp.dll</li>
<li>msvcp140.dll</li>
<li>System.Buffers.dll</li>
<li>System.Memory.dll</li>
<li>System.Runtime.CompilerServices.Unsafe.dll</li>
<li>tbb.dll</li>
<li>vcomp140.dll</li>
<li>vcruntime140.dll</li>
<li>vcruntime140_1.dll</li>
</ol>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Creating a new project</h1>
<p><img src="../assets/walkthroughs/unity/1_project_setup/UnityNew.PNG" alt="Image" class="inline"/></p>
<p><em>Figure</em> <b>1.1</b>: <em>Creating a new project in the Unity Hub</em></p>
<p>To begin, open the Unity Hub then click the <em>NEW</em> button to create a new project.</p>
<p><img src="../assets/walkthroughs/unity/1_project_setup/unity_choose_project_type.PNG" alt="Choose Project Type" class="inline"/></p>
<p><em>Figure</em> <b>1.2</b>: <em>The Create a Project Dialog</em></p>
<p>Select your desired project type, directory, and project name. For the sake of this tutorial, we will be using the <em>3D</em> project type and naming our project <em>HumanFactorsUnitySetup</em>. When done with this, press the <em>Create</em> button to create the project and wait while Unity imports all the necessary files.</p>
<p><img src="../assets/walkthroughs/unity/1_project_setup/blank_unity_scene.PNG" alt="Empty Unity Scene" class="inline"/></p>
<p><em>Figure</em> <b>1.3</b>: <em>An empty Unity scene</em></p>
<p>Upon completion you should be greeted by an empty Unity scene.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Importing the Human Factors Library</h1>
<p>Now that we have created a blank project, we need to import the HumanFactors' binaries as assets so Unity can see and interface with them.</p>
<p><img src="../assets/walkthroughs/unity/1_project_setup/bin_to_assets.png" alt="Moving the bin folder into the assets directory" class="inline"/></p>
<p><em>Figure</em> <b>1.4</b>: <em>Dragging the HumanFactors bin folder into the Unity Project</em></p>
<p>Unzip the HumanFactors release package to another location (Don't try to drag and drop assets from a zipped folder, you will get an error), then, as shown in Figure 1.4, drag the <code>bin</code> folder from the location you extracted the release to into the Unity Editor's assets window. Once you've done this, Unity should display the <em>bin</em> folder alongside the existing <em>Scenes</em> folder.</p>
<blockquote class="doxtable">
<p><b>NOTE</b>: If you accidentally drag the bin folder into the <em>Scenes</em> folder or anywhere else that would cause two copies of the same dll to exist at the same time, delete any duplicates before proceding. Multiple copies of the same DLL will cause conflicts and may result in Unity being unable to load it in the future steps. You'll know this has happened if you see the following error &lsquo;Multiple plugins with the same name 'humanfactors&rsquo; (found at 'Assets/Scenes/bin/HumanFactors.dll' and 'Assets/bin/HumanFactors.dll')...` at the bottom of the screen. &gt;<img src="../assets/walkthroughs/unity/1_project_setup/duplicate_dll_error.png" alt="Duplicate DLL Error" class="inline"/> &gt;<img src="../assets/walkthroughs/unity/1_project_setup/delete.png" alt="Delete Image" class="inline"/> </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md5"></a>
Verifying Unity can reference HumanFactors</h1>
<p>The binaries have been added to our project as assets, but let's make sure Unity is able to reference them in code. To verify that Unity can reference the HumanFactors binaries, we're going to create a new script and look at its references. If we did everything correctly, Unity should automatically have added HumanFactorsCSharp as a reference.</p>
<p><img src="../assets/walkthroughs/unity/1_project_setup/create_new_script.png" alt="Creating a new C# script" class="inline"/></p>
<p><em>Figure</em> <b>1.5</b>: <em>Creating a new C# Script</em></p>
<p>Right click on a blank space in the assets window, hover over <em>Create</em>, then click <em>C# Script</em>.</p>
<p><img src="../assets/walkthroughs/unity/1_project_setup/../2_raycast_at_plane/rename_script.png" alt="Don't click anything! Rename the script" class="inline"/></p>
<p><em>Figure</em> <b>1.6</b>: <em>Renaming a new script</em></p>
<p>Looking in the assets window, you should notice a new script file next to Scenes directory titled NewBehaviourScript.cs by default, and the name of it is highlighted in blue indicatign that you can rename it. Rename the script to HFExampleScript.cs.</p>
<blockquote class="doxtable">
<p><b>NOTE:</b> If you didn't name the file properly you can change the name of the script by right clicking on it and clicking <em>Rename</em> &gt;<img src="../assets/walkthroughs/unity/1_project_setup/../2_raycast_at_plane/rename_dialog.png" alt="Rename Dialog" class="inline"/> </p>
</blockquote>
<p><img src="../assets/walkthroughs/unity/1_project_setup/double_click_on_script.png" alt="Double Click On Script" class="inline"/></p>
<p><em>Figure</em> <b>1.7</b>: <em>HFExampleScript.cs in the assets window</em></p>
<p>Now that we have our new script, double click on it to open Visual studio.</p>
<p><img src="../assets/walkthroughs/unity/1_project_setup/visual_studio_human_factors_reference.png" alt="HumanFactors referenced by your project" class="inline"/></p>
<p><em>Figure</em> <b>1.8</b>: <em>Viewing the references of a project in Visual Studio</em></p>
<p>In Visual Studio, navigate to the <em>Solution Explorer</em> then expand the drop downs for your solution, Assembly-C-Sharp, and References. If everything was done correctly, you should see HumanFactors C# under the references for your project, as shown in Figure 1.8.</p>
<blockquote class="doxtable">
<p><b>NOTE</b>: If Mono-Develop appears instead of Visual Studio, then your installation of Unity is not set up to support Visual Studio. You can follow the above instructions from <a href="#prerequisites">Prerequisites</a> to fix this. </p>
</blockquote>
<blockquote class="doxtable">
<p><b>NOTE</b>: If you renamed the file earlier, then your class's name may not match the name of the class in Figure 1.8. To fix this, just replace the class's name with <code>HFExampleScript.cs</code> on line 5.</p>
<p><img src="../assets/walkthroughs/unity/1_project_setup/../2_raycast_at_plane/change_class_name.png" alt="Change Class name" class="inline"/> </p>
</blockquote>
<blockquote class="doxtable">
<p><b>NOTE:</b> Your version of Visual Studio may use the light theme by default like pictured below. This is purely visual and will not have any impact on this tutorial. <img src="../assets/walkthroughs/unity/1_project_setup/light_visual_studio.png" alt="Light Theme" class="inline"/> </p>
</blockquote>
<p>If you see HumanFactors in your project's references, then you've successfully imported the HumanFactors library and are ready to start using the HumanFactors library.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Conclusion</h1>
<p>Below is a link to the unity project created in this tutorial.</p>
<p><a href="../assets/walkthroughs/unity/1_project_setup/Tutorial%201-%20Unity%20Project.zip">Tutorial 1: Unity Project Setup</a></p>
<p>In this tutorial, we went through the process of creating unity project and adding the Analysis toolkit to the project. In the following tutorials, we will use this basis for using the modules that come with the Analysis toolkit.</p>
<p>In the next tutorial: H:/HFGitlab/Analysis/docs/C# Documentation/markdown/2_raycast_at_plane.md "Using the Raytracer" we will use HumanFactors to create a plane, cast a ray at it, then get the point where the ray intersected the plane. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
