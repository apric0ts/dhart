\hypertarget{a00270}{}\doxysection{View\+Analysis}
\label{a00270}\index{ViewAnalysis@{ViewAnalysis}}


Analyze the view from from points in the environment.  


\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
vector$<$ std\+::array$<$ float, 3 $>$ $>$ \mbox{\hyperlink{a00270_ga9fc392fe8fc058674ffd5f4c8273a714}{H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Fibbonacci\+Distribute\+Points}} (int num\+\_\+points, float upwards\+\_\+fov=50.\+0f, float downward\+\_\+fov=70.\+0f)
\begin{DoxyCompactList}\small\item\em Evenly distribute a set of points around a sphere centered at the origin. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename R\+ES , typename RT , typename N $>$ }\\std\+::vector$<$ R\+ES $>$ \mbox{\hyperlink{a00270_ga8090bf1d24c0cff934daba1c76d82ba6}{H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Spherical\+View\+Analysis}} (RT \&ray\+\_\+tracer, const std\+::vector$<$ N $>$ \&Nodes, int num\+\_\+rays, float upward\+\_\+limit=50.\+0f, float downward\+\_\+limit=70.\+0f, float height=1.\+7f)
\begin{DoxyCompactList}\small\item\em Conduct view analysis with any Raytracer in parallel. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename RT , typename N $>$ }\\std\+::vector$<$ float $>$ \mbox{\hyperlink{a00270_ga249100bce7370ba4202f47294f179f81}{H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Spherical\+Rayshoot\+With\+Any\+R\+T\+For\+Distance}} (RT \&ray\+\_\+tracer, const std\+::vector$<$ N $>$ \&Nodes, int num\+\_\+rays, float upward\+\_\+limit=50.\+0f, float downward\+\_\+limit=70.\+0f, float height=1.\+7f, const \mbox{\hyperlink{a00275_a0a616a205221414bf7aa28966b461dec}{A\+G\+G\+R\+E\+G\+A\+T\+E\+\_\+\+T\+Y\+PE}} aggregation=\mbox{\hyperlink{a00275_a0a616a205221414bf7aa28966b461deca6970bdc2201030b9c03fbdcf3973858a}{A\+G\+G\+R\+E\+G\+A\+T\+E\+\_\+\+T\+Y\+P\+E\+::\+S\+UM}})
\begin{DoxyCompactList}\small\item\em Conduct view analysis and recieve a summarized set of results for each node. \end{DoxyCompactList}\item 
\mbox{\hyperlink{a00254_a91fa3b2bb3a7312ec39d74cc1fbc7bbe}{C\+\_\+\+I\+N\+T\+E\+R\+F\+A\+CE}} \mbox{\hyperlink{a00270_gab6b8e3eab649b42ac014fb7d02d54892}{Sphereical\+View\+Analysis\+Aggregate}} (\mbox{\hyperlink{a01163}{H\+F\+::\+Ray\+Tracer\+::\+Embree\+Ray\+Tracer}} $\ast$E\+RT, \mbox{\hyperlink{a01203}{H\+F\+::\+Spatial\+Structures\+::\+Node}} $\ast$node\+\_\+ptr, int node\+\_\+size, int max\+\_\+rays, float upward\+\_\+fov, float downward\+\_\+fov, float height, \mbox{\hyperlink{a00254_a8a1aa9474094ff70818051c921c0537f}{A\+G\+G\+R\+E\+G\+A\+T\+E\+\_\+\+T\+Y\+PE}} AT, std\+::vector$<$ float $>$ $\ast$$\ast$out\+\_\+scores, float $\ast$$\ast$out\+\_\+scores\+\_\+ptr, int $\ast$out\+\_\+scores\+\_\+size)
\begin{DoxyCompactList}\small\item\em Perform view analysis from a list of points and aggregate the results into an ordered list of scores. Scores are aggregated by the aggregation specified in AT aggregation method. \end{DoxyCompactList}\item 
\mbox{\hyperlink{a00254_a91fa3b2bb3a7312ec39d74cc1fbc7bbe}{C\+\_\+\+I\+N\+T\+E\+R\+F\+A\+CE}} \mbox{\hyperlink{a00270_gaa4c5714c1e557ef83a03d447eb30c6d0}{Sphereical\+View\+Analysis\+Aggregate\+Flat}} (\mbox{\hyperlink{a01163}{H\+F\+::\+Ray\+Tracer\+::\+Embree\+Ray\+Tracer}} $\ast$E\+RT, const float $\ast$node\+\_\+ptr, int node\+\_\+size, int max\+\_\+rays, float upward\+\_\+fov, float downward\+\_\+fov, float height, \mbox{\hyperlink{a00254_a8a1aa9474094ff70818051c921c0537f}{A\+G\+G\+R\+E\+G\+A\+T\+E\+\_\+\+T\+Y\+PE}} AT, std\+::vector$<$ float $>$ $\ast$$\ast$out\+\_\+scores, float $\ast$$\ast$out\+\_\+scores\+\_\+ptr, int $\ast$out\+\_\+scores\+\_\+size)
\begin{DoxyCompactList}\small\item\em Perform view analysis from a list of points and aggregate the results into an ordered list of scores. Scores are aggregated by the aggregation specified in AT aggregation method. \end{DoxyCompactList}\item 
\mbox{\hyperlink{a00254_a91fa3b2bb3a7312ec39d74cc1fbc7bbe}{C\+\_\+\+I\+N\+T\+E\+R\+F\+A\+CE}} \mbox{\hyperlink{a00270_ga94d3ddc3981020e2852fc77e51266185}{Spherical\+View\+Analysis\+No\+Aggregate}} (\mbox{\hyperlink{a01163}{H\+F\+::\+Ray\+Tracer\+::\+Embree\+Ray\+Tracer}} $\ast$E\+RT, const \mbox{\hyperlink{a01203}{H\+F\+::\+Spatial\+Structures\+::\+Node}} $\ast$node\+\_\+ptr, int node\+\_\+size, int $\ast$max\+\_\+rays, float upward\+\_\+fov, float downward\+\_\+fov, float height, std\+::vector$<$ \mbox{\hyperlink{a01219}{Ray\+Result}} $>$ $\ast$$\ast$out\+\_\+results, \mbox{\hyperlink{a01219}{Ray\+Result}} $\ast$$\ast$out\+\_\+results\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em Perform view analysis and recieve the distance and meshid for each individual ray. \end{DoxyCompactList}\item 
\mbox{\hyperlink{a00254_a91fa3b2bb3a7312ec39d74cc1fbc7bbe}{C\+\_\+\+I\+N\+T\+E\+R\+F\+A\+CE}} \mbox{\hyperlink{a00270_ga348af4492f3e4e7ffab6da3e86de3924}{Spherical\+View\+Analysis\+No\+Aggregate\+Flat}} (\mbox{\hyperlink{a01163}{H\+F\+::\+Ray\+Tracer\+::\+Embree\+Ray\+Tracer}} $\ast$E\+RT, const float $\ast$node\+\_\+ptr, int node\+\_\+size, int $\ast$max\+\_\+rays, float upward\+\_\+fov, float downward\+\_\+fov, float height, std\+::vector$<$ \mbox{\hyperlink{a01219}{Ray\+Result}} $>$ $\ast$$\ast$out\+\_\+results, \mbox{\hyperlink{a01219}{Ray\+Result}} $\ast$$\ast$out\+\_\+results\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em Perform view analysis and recieve the distance and meshid for each individual ray. \end{DoxyCompactList}\item 
\mbox{\hyperlink{a00254_a91fa3b2bb3a7312ec39d74cc1fbc7bbe}{C\+\_\+\+I\+N\+T\+E\+R\+F\+A\+CE}} \mbox{\hyperlink{a00270_gaf572b7bec28d55bf2c72719742703dff}{Spherical\+Distribute}} (int $\ast$num\+\_\+rays, std\+::vector$<$ float $>$ $\ast$$\ast$out\+\_\+direction\+\_\+vector, float $\ast$$\ast$out\+\_\+direction\+\_\+data, float upward\+\_\+fov, float downward\+\_\+fov)
\begin{DoxyCompactList}\small\item\em Distribute directions in a sphere \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Analyze the view from from points in the environment. 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{a00270_ga9fc392fe8fc058674ffd5f4c8273a714}\label{a00270_ga9fc392fe8fc058674ffd5f4c8273a714}} 
\index{ViewAnalysis@{ViewAnalysis}!FibbonacciDistributePoints@{FibbonacciDistributePoints}}
\index{FibbonacciDistributePoints@{FibbonacciDistributePoints}!ViewAnalysis@{ViewAnalysis}}
\doxysubsubsection{\texorpdfstring{FibbonacciDistributePoints()}{FibbonacciDistributePoints()}}
{\footnotesize\ttfamily std\+::vector$<$ std\+::array$<$ float, 3 $>$ $>$ H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Fibbonacci\+Distribute\+Points (\begin{DoxyParamCaption}\item[{int}]{num\+\_\+points,  }\item[{float}]{upwards\+\_\+fov = {\ttfamily 50.0f},  }\item[{float}]{downward\+\_\+fov = {\ttfamily 70.0f} }\end{DoxyParamCaption})}



{\ttfamily \#include $<$\mbox{\hyperlink{a00023}{Cpp/analysismethods/src/view\+\_\+analysis.\+cpp}}$>$}



Evenly distribute a set of points around a sphere centered at the origin. 


\begin{DoxyParams}{Parameters}
{\em num\+\_\+points} & Maximum number of points to distribute. \\
\hline
{\em upward\+\_\+limit} & Maximum angle in degrees to cast rays above the viewpoint. \\
\hline
{\em downward\+\_\+limit} & Maximum angle in degrees to cast rays below the viewpoint. /// \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A vector of arrays containing the x, y, and z coordinates of each point on the sphere.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
The number of points returned by this function will not exactly equal the amount of points specified by num\+\_\+points depending on the values of upwards\+\_\+fov and downward fov. More information is available below.
\end{DoxyNote}
\begin{DoxyParagraph}{How F\+OV is implemented}
Every point is equally distributed on a sphere using a formula based on this stack overflow answer\+: \href{https://stackoverflow.com/questions/9600801/evenly-distributing-n-points-on-a-sphere}{\texttt{ https\+://stackoverflow.\+com/questions/9600801/evenly-\/distributing-\/n-\/points-\/on-\/a-\/sphere}}. This formula cannot easily be mapped to a specific vertical fov or cone, so instead this function will remove points that don\textquotesingle{}t meet the constraints. Discarding points causes the number of points generated to be less than the num\+\_\+rays argument, so the percentage of points discarded is calculated and a second run is performed with an adjusted num\+\_\+rays value to get as close as possible to the value specified in the argument. This approach will not result in an exact match to the num\+\_\+rays argument, and will run \mbox{\hyperlink{a00275_a2780d3f9e9ea879d43121893c60a520c}{Fibbonacci\+Dist}} twice.
\end{DoxyParagraph}
\begin{DoxyParagraph}{Example}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Requires \#include "view\_analysis.h"}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// For brevity}}
\DoxyCodeLine{\textcolor{keyword}{using} \mbox{\hyperlink{a00270_ga9fc392fe8fc058674ffd5f4c8273a714}{HF::AnalysisMethods::ViewAnalysis::FibbonacciDistributePoints}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Prepare maximum number of points to distribute}}
\DoxyCodeLine{\textcolor{keywordtype}{int} size = 8;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Generate points without any limitations on fov}}
\DoxyCodeLine{\textcolor{keyword}{auto} points = \mbox{\hyperlink{a00270_ga9fc392fe8fc058674ffd5f4c8273a714}{FibbonacciDistributePoints}}(size, 90.0f, 90.0f);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Print number of points}}
\DoxyCodeLine{std::cout << \textcolor{stringliteral}{"Number of Points:"} << points.size() << std::endl;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Iterate through results and print every point.}}
\DoxyCodeLine{std::cout << \textcolor{stringliteral}{"["};}
\DoxyCodeLine{\textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < size; i++) \{}
\DoxyCodeLine{    \textcolor{keyword}{const} \textcolor{keyword}{auto}\& point =  points[i];}
\DoxyCodeLine{    std::cout << \textcolor{stringliteral}{"("} << point[0] << \textcolor{stringliteral}{", "} << point[1] << \textcolor{stringliteral}{", "} << point[2] << \textcolor{stringliteral}{")"};}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (i != size -\/ 1) std::cout << \textcolor{stringliteral}{", "};}
\DoxyCodeLine{\}}
\DoxyCodeLine{std::cout << \textcolor{stringliteral}{"]"} << std::endl;}
\end{DoxyCode}

\end{DoxyParagraph}
{\ttfamily $>$$>$$>$ Number of Points\+:8}~\newline
{\ttfamily $>$$>$$>$ \mbox{[}(-\/0, -\/1, 0), (-\/0.\+304862, -\/0.\+75, -\/0.\+586992), (0.\+813476, -\/0.\+5, 0.\+29708), (-\/0.\+894994, -\/0.\+25, 0.\+369441),} {\ttfamily (0.\+423846, 0, -\/0.\+905734), (0.\+289781, 0.\+25, 0.\+923865), (-\/0.\+749296, 0.\+5, -\/0.\+43423), (0.\+64601, 0.\+75, -\/0.\+142025)\mbox{]}} 

Definition at line 158 of file view\+\_\+analysis.\+cpp.



References H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Fibbonacci\+Dist().



Referenced by Spherical\+Distribute(), H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Spherical\+Rayshoot\+With\+Any\+R\+T\+For\+Distance(), H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Spherical\+View\+Analysis(), and H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Spherical\+View\+Analysis\+From\+Ray\+Requests().

\mbox{\Hypertarget{a00270_gab6b8e3eab649b42ac014fb7d02d54892}\label{a00270_gab6b8e3eab649b42ac014fb7d02d54892}} 
\index{ViewAnalysis@{ViewAnalysis}!SphereicalViewAnalysisAggregate@{SphereicalViewAnalysisAggregate}}
\index{SphereicalViewAnalysisAggregate@{SphereicalViewAnalysisAggregate}!ViewAnalysis@{ViewAnalysis}}
\doxysubsubsection{\texorpdfstring{SphereicalViewAnalysisAggregate()}{SphereicalViewAnalysisAggregate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{a00254_a91fa3b2bb3a7312ec39d74cc1fbc7bbe}{C\+\_\+\+I\+N\+T\+E\+R\+F\+A\+CE}} Sphereical\+View\+Analysis\+Aggregate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{a01163}{H\+F\+::\+Ray\+Tracer\+::\+Embree\+Ray\+Tracer}} $\ast$}]{E\+RT,  }\item[{\mbox{\hyperlink{a01203}{H\+F\+::\+Spatial\+Structures\+::\+Node}} $\ast$}]{node\+\_\+ptr,  }\item[{int}]{node\+\_\+size,  }\item[{int}]{max\+\_\+rays,  }\item[{float}]{upward\+\_\+fov,  }\item[{float}]{downward\+\_\+fov,  }\item[{float}]{height,  }\item[{\mbox{\hyperlink{a00254_a8a1aa9474094ff70818051c921c0537f}{A\+G\+G\+R\+E\+G\+A\+T\+E\+\_\+\+T\+Y\+PE}}}]{AT,  }\item[{std\+::vector$<$ float $>$ $\ast$$\ast$}]{out\+\_\+scores,  }\item[{float $\ast$$\ast$}]{out\+\_\+scores\+\_\+ptr,  }\item[{int $\ast$}]{out\+\_\+scores\+\_\+size }\end{DoxyParamCaption})}



{\ttfamily \#include $<$\mbox{\hyperlink{a00254}{Cinterface/view\+\_\+analysis\+\_\+\+C.\+h}}$>$}



Perform view analysis from a list of points and aggregate the results into an ordered list of scores. Scores are aggregated by the aggregation specified in AT aggregation method. 


\begin{DoxyParams}{Parameters}
{\em E\+RT} & Raytracer to fire all rays from. \\
\hline
{\em node\+\_\+ptr} & Positions to perform view analysis from. \\
\hline
{\em node\+\_\+size} & Number of nodes in the array pointed at by node\+\_\+ptr. \\
\hline
{\em max\+\_\+rays} & Number of rays to evenly distribute in a sphere. \\
\hline
{\em height} & Height to offset nodes from the ground. \\
\hline
{\em AT} & Type of aggregation method to use on distance values. \\
\hline
{\em out\+\_\+scores} & Output parameter for score vector. \\
\hline
{\em out\+\_\+scores\+\_\+ptr} & Output parameter for the score vector\textquotesingle{}s underlying data. \\
\hline
{\em out\+\_\+scores\+\_\+size} & Number of elements in the output vector.. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+F\+\_\+\+S\+T\+A\+T\+U\+S\+::\+OK on completion. 
\end{DoxyReturn}


Definition at line 17 of file view\+\_\+analysis\+\_\+\+C.\+cpp.



References H\+F\+::\+Exceptions\+::\+OK, and H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Spherical\+Rayshoot\+With\+Any\+R\+T\+For\+Distance().

\mbox{\Hypertarget{a00270_gaa4c5714c1e557ef83a03d447eb30c6d0}\label{a00270_gaa4c5714c1e557ef83a03d447eb30c6d0}} 
\index{ViewAnalysis@{ViewAnalysis}!SphereicalViewAnalysisAggregateFlat@{SphereicalViewAnalysisAggregateFlat}}
\index{SphereicalViewAnalysisAggregateFlat@{SphereicalViewAnalysisAggregateFlat}!ViewAnalysis@{ViewAnalysis}}
\doxysubsubsection{\texorpdfstring{SphereicalViewAnalysisAggregateFlat()}{SphereicalViewAnalysisAggregateFlat()}}
{\footnotesize\ttfamily \mbox{\hyperlink{a00254_a91fa3b2bb3a7312ec39d74cc1fbc7bbe}{C\+\_\+\+I\+N\+T\+E\+R\+F\+A\+CE}} Sphereical\+View\+Analysis\+Aggregate\+Flat (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{a01163}{H\+F\+::\+Ray\+Tracer\+::\+Embree\+Ray\+Tracer}} $\ast$}]{E\+RT,  }\item[{const float $\ast$}]{node\+\_\+ptr,  }\item[{int}]{node\+\_\+size,  }\item[{int}]{max\+\_\+rays,  }\item[{float}]{upward\+\_\+fov,  }\item[{float}]{downward\+\_\+fov,  }\item[{float}]{height,  }\item[{\mbox{\hyperlink{a00254_a8a1aa9474094ff70818051c921c0537f}{A\+G\+G\+R\+E\+G\+A\+T\+E\+\_\+\+T\+Y\+PE}}}]{AT,  }\item[{std\+::vector$<$ float $>$ $\ast$$\ast$}]{out\+\_\+scores,  }\item[{float $\ast$$\ast$}]{out\+\_\+scores\+\_\+ptr,  }\item[{int $\ast$}]{out\+\_\+scores\+\_\+size }\end{DoxyParamCaption})}



{\ttfamily \#include $<$\mbox{\hyperlink{a00254}{Cinterface/view\+\_\+analysis\+\_\+\+C.\+h}}$>$}



Perform view analysis from a list of points and aggregate the results into an ordered list of scores. Scores are aggregated by the aggregation specified in AT aggregation method. 


\begin{DoxyParams}{Parameters}
{\em E\+RT} & Raytracer to fire all rays from. \\
\hline
{\em node\+\_\+ptr} & Positions to perform view analysis from as a flat array of floats. Each 3 floats should represent a new point. \\
\hline
{\em node\+\_\+size} & Number of nodes in the array pointed at by node\+\_\+ptr. Should be equal to the length of node\+\_\+ptr/3. \\
\hline
{\em max\+\_\+rays} & Number of rays to evenly distribute in a sphere. \\
\hline
{\em upward\+\_\+fov} & Maximum degrees upward from the viewer\textquotesingle{}s eye level to consider. \\
\hline
{\em downward\+\_\+fov} & Maximum degrees downward from the viewer\textquotesingle{}s eye level to consider. \\
\hline
{\em height} & Height to offset nodes from the ground. \\
\hline
{\em AT} & Type of aggregation method to use on distance values. \\
\hline
{\em out\+\_\+scores} & Output parameter for score vector. \\
\hline
{\em out\+\_\+scores\+\_\+ptr} & Output parameter for the score vector\textquotesingle{}s underlying data. \\
\hline
{\em out\+\_\+scores\+\_\+size} & Number of elements in the output vector.. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+F\+\_\+\+S\+T\+A\+T\+U\+S\+::\+OK on completion. 
\end{DoxyReturn}


Definition at line 50 of file view\+\_\+analysis\+\_\+\+C.\+cpp.



References Convert\+Raw\+Float\+Array\+To\+Points(), H\+F\+::\+Exceptions\+::\+OK, and H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Spherical\+Rayshoot\+With\+Any\+R\+T\+For\+Distance().

\mbox{\Hypertarget{a00270_gaf572b7bec28d55bf2c72719742703dff}\label{a00270_gaf572b7bec28d55bf2c72719742703dff}} 
\index{ViewAnalysis@{ViewAnalysis}!SphericalDistribute@{SphericalDistribute}}
\index{SphericalDistribute@{SphericalDistribute}!ViewAnalysis@{ViewAnalysis}}
\doxysubsubsection{\texorpdfstring{SphericalDistribute()}{SphericalDistribute()}}
{\footnotesize\ttfamily \mbox{\hyperlink{a00254_a91fa3b2bb3a7312ec39d74cc1fbc7bbe}{C\+\_\+\+I\+N\+T\+E\+R\+F\+A\+CE}} Spherical\+Distribute (\begin{DoxyParamCaption}\item[{int $\ast$}]{num\+\_\+rays,  }\item[{std\+::vector$<$ float $>$ $\ast$$\ast$}]{out\+\_\+direction\+\_\+vector,  }\item[{float $\ast$$\ast$}]{out\+\_\+direction\+\_\+data,  }\item[{float}]{upward\+\_\+fov,  }\item[{float}]{downward\+\_\+fov }\end{DoxyParamCaption})}



{\ttfamily \#include $<$\mbox{\hyperlink{a00254}{Cinterface/view\+\_\+analysis\+\_\+\+C.\+h}}$>$}



Distribute directions in a sphere 


\begin{DoxyParams}{Parameters}
{\em num\+\_\+rays} & The number of directions to generate. \\
\hline
{\em out\+\_\+direction\+\_\+vector} & Output parameter for the resulting directions. \\
\hline
{\em upward\+\_\+fov} & Maximum degrees upward from the viewer\textquotesingle{}s eye level to consider. \\
\hline
{\em downward\+\_\+fov} & Maximum degrees downward from the viewer\textquotesingle{}s eye level to consider. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+F\+\_\+\+S\+T\+A\+T\+U\+S\+::\+OK On success. 
\end{DoxyReturn}


Definition at line 125 of file view\+\_\+analysis\+\_\+\+C.\+cpp.



References H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Fibbonacci\+Distribute\+Points(), and H\+F\+::\+Exceptions\+::\+OK.

\mbox{\Hypertarget{a00270_ga249100bce7370ba4202f47294f179f81}\label{a00270_ga249100bce7370ba4202f47294f179f81}} 
\index{ViewAnalysis@{ViewAnalysis}!SphericalRayshootWithAnyRTForDistance@{SphericalRayshootWithAnyRTForDistance}}
\index{SphericalRayshootWithAnyRTForDistance@{SphericalRayshootWithAnyRTForDistance}!ViewAnalysis@{ViewAnalysis}}
\doxysubsubsection{\texorpdfstring{SphericalRayshootWithAnyRTForDistance()}{SphericalRayshootWithAnyRTForDistance()}}
{\footnotesize\ttfamily template$<$typename RT , typename N $>$ \\
std\+::vector$<$float$>$ H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Spherical\+Rayshoot\+With\+Any\+R\+T\+For\+Distance (\begin{DoxyParamCaption}\item[{RT \&}]{ray\+\_\+tracer,  }\item[{const std\+::vector$<$ N $>$ \&}]{Nodes,  }\item[{int}]{num\+\_\+rays,  }\item[{float}]{upward\+\_\+limit = {\ttfamily 50.0f},  }\item[{float}]{downward\+\_\+limit = {\ttfamily 70.0f},  }\item[{float}]{height = {\ttfamily 1.7f},  }\item[{const \mbox{\hyperlink{a00275_a0a616a205221414bf7aa28966b461dec}{A\+G\+G\+R\+E\+G\+A\+T\+E\+\_\+\+T\+Y\+PE}}}]{aggregation = {\ttfamily \mbox{\hyperlink{a00275_a0a616a205221414bf7aa28966b461deca6970bdc2201030b9c03fbdcf3973858a}{A\+G\+G\+R\+E\+G\+A\+T\+E\+\_\+\+T\+Y\+P\+E\+::\+S\+UM}}} }\end{DoxyParamCaption})}



{\ttfamily \#include $<$\mbox{\hyperlink{a00026}{Cpp/analysismethods/src/view\+\_\+analysis.\+h}}$>$}



Conduct view analysis and recieve a summarized set of results for each node. 


\begin{DoxyParams}{Parameters}
{\em ray\+\_\+tracer} & A valid raytracer that already has the geometry loaded. \\
\hline
{\em Nodes} & Points to perform analysis from. \\
\hline
{\em num\+\_\+rays} & The number of rays to cast from each point in nodes. The actual amount of rays cast may be less or more than this number. \\
\hline
\end{DoxyParams}



\begin{DoxyParams}{Parameters}
{\em upward\+\_\+limit} & Maximum angle in degrees to cast rays above the viewpoint. \\
\hline
{\em downward\+\_\+limit} & Maximum angle in degrees to cast rays below the viewpoint. \\
\hline
{\em height} & Height off the ground to cast from. All points in Nodes will be offset this distance from the ground (+Z) before calculations are performed \\
\hline
{\em aggregation} & The type of aggregation to use.\\
\hline
\end{DoxyParams}

\begin{DoxyTemplParams}{Template Parameters}
{\em RT} & A Raytracer with Fire\+Any\+Ray defined for the type of N. \\
\hline
{\em N} & A point that overloads \mbox{[}\mbox{]} for 0, 1 and 2.\\
\hline
\end{DoxyTemplParams}
\begin{DoxyReturn}{Returns}
A Nodes.\+size() long array of results for each node in Nodes.
\end{DoxyReturn}
The analysis performed by this function is identical to that described in Spherical\+View\+Analysis, but results are summarized over the course of the analysis for every observer point instead of recording each individual intersection. The memory usage for this function is drastically lower than that of Spherical\+View\+Analysis, resulting in lower execution times at the cost of being restricted to a set of predefined aggregation methods.


\begin{DoxyExceptions}{Exceptions}
{\em std\+::bad\+\_\+array\+\_\+new\+\_\+length} & The number of rays is larger than that which can be stored in a std\+::vector.\\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{a00270_ga9fc392fe8fc058674ffd5f4c8273a714}{Fibbonacci\+Distribute\+Points}} For details on how the directions are calculated from num\+\_\+rays. 

\mbox{\hyperlink{a00270_ga8090bf1d24c0cff934daba1c76d82ba6}{Spherical\+View\+Analysis}} to get the result of every ray fired instead of summarizing the results. 

\mbox{\hyperlink{a00275_a0a616a205221414bf7aa28966b461dec}{A\+G\+G\+R\+E\+G\+A\+T\+E\+\_\+\+T\+Y\+PE}} for a list of aggregation methods. 

\mbox{\hyperlink{a00275_abd3ed7f9595c30784ca668bf886a8d77}{Aggregate}} for the implementation of all aggregation methods.
\end{DoxySeeAlso}
\begin{DoxyParagraph}{Example}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Requires \#include "view\_analysis.h"}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Use this so we can fit within 80 characters}}
\DoxyCodeLine{\textcolor{keyword}{using} \mbox{\hyperlink{a00270_ga249100bce7370ba4202f47294f179f81}{HF::AnalysisMethods::ViewAnalysis::SphericalRayshootWithAnyRTForDistance}};}
\DoxyCodeLine{\textcolor{keyword}{using} \mbox{\hyperlink{a00275_a0a616a205221414bf7aa28966b461dec}{HF::AnalysisMethods::ViewAnalysis::AGGREGATE\_TYPE}};}
\DoxyCodeLine{\textcolor{keyword}{using} \mbox{\hyperlink{a01163}{HF::RayTracer::EmbreeRayTracer}};}
\DoxyCodeLine{\textcolor{keyword}{using} \mbox{\hyperlink{a01127}{HF::Geometry::MeshInfo}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Create Plane}}
\DoxyCodeLine{\textcolor{keyword}{const} std::vector<float> plane\_vertices\{}
\DoxyCodeLine{    -\/10.0f, 10.0f, 0.0f,}
\DoxyCodeLine{    -\/10.0f, -\/10.0f, 0.0f,}
\DoxyCodeLine{    10.0f, 10.0f, 0.0f,}
\DoxyCodeLine{    10.0f, -\/10.0f, 0.0f,}
\DoxyCodeLine{\};}
\DoxyCodeLine{\textcolor{keyword}{const} std::vector<int> plane\_indices\{ 3, 1, 0, 2, 3, 0 \};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Create RayTracer}}
\DoxyCodeLine{EmbreeRayTracer ert(std::vector<MeshInfo>\{}
\DoxyCodeLine{    MeshInfo(plane\_vertices, plane\_indices, 0, \textcolor{stringliteral}{" "})\}}
\DoxyCodeLine{);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Define observer points}}
\DoxyCodeLine{std::vector<std::array<float, 3>> points\{}
\DoxyCodeLine{    \{0,0,0\}, \{10,10,0\}, \{20,20,0\}, \{30, 30, 0\}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Perform View Analysis and sum the distance to all intersections}}
\DoxyCodeLine{\textcolor{comment}{// for every node}}
\DoxyCodeLine{\textcolor{keywordtype}{int} num\_rays = 2000;}
\DoxyCodeLine{\textcolor{keyword}{auto} results = \mbox{\hyperlink{a00270_ga249100bce7370ba4202f47294f179f81}{SphericalRayshootWithAnyRTForDistance}}(}
\DoxyCodeLine{    ert, points, num\_rays, 90.0f, 90.0f, 1.7f, \mbox{\hyperlink{a00275_a0a616a205221414bf7aa28966b461deca6970bdc2201030b9c03fbdcf3973858a}{AGGREGATE\_TYPE::SUM}}}
\DoxyCodeLine{);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Print Results}}
\DoxyCodeLine{std::cerr << \textcolor{stringliteral}{"("};}
\DoxyCodeLine{\textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < results.size(); i++) \{}
\DoxyCodeLine{    std::cerr << results[i];}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (i != results.size() -\/ 1) std::cerr << \textcolor{stringliteral}{", "};}
\DoxyCodeLine{\}}
\DoxyCodeLine{std::cerr << \textcolor{stringliteral}{")"} << std::endl;}
\end{DoxyCode}

\end{DoxyParagraph}
{\ttfamily $>$$>$$>$ (2746.\+72, 932.\+565, 170.\+858, 76.\+8413)}

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{a00263__todo000014}{Todo}}]Should this have a height check like the one in the \mbox{\hyperlink{a00278}{Visibility\+Graph}}?\end{DoxyRefDesc}


\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{a00263__todo000015}{Todo}}]Rename this to View\+Analysis\+Aggregate.\end{DoxyRefDesc}


\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{a00263__todo000016}{Todo}}]Potential speed up here by using a Raytracer function that doesn\textquotesingle{}t return the point of intersection. \end{DoxyRefDesc}


Definition at line 489 of file view\+\_\+analysis.\+h.



References H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Aggregate(), and H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Fibbonacci\+Distribute\+Points().



Referenced by Sphereical\+View\+Analysis\+Aggregate(), and Sphereical\+View\+Analysis\+Aggregate\+Flat().

\mbox{\Hypertarget{a00270_ga8090bf1d24c0cff934daba1c76d82ba6}\label{a00270_ga8090bf1d24c0cff934daba1c76d82ba6}} 
\index{ViewAnalysis@{ViewAnalysis}!SphericalViewAnalysis@{SphericalViewAnalysis}}
\index{SphericalViewAnalysis@{SphericalViewAnalysis}!ViewAnalysis@{ViewAnalysis}}
\doxysubsubsection{\texorpdfstring{SphericalViewAnalysis()}{SphericalViewAnalysis()}}
{\footnotesize\ttfamily template$<$typename R\+ES , typename RT , typename N $>$ \\
std\+::vector$<$R\+ES$>$ H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Spherical\+View\+Analysis (\begin{DoxyParamCaption}\item[{RT \&}]{ray\+\_\+tracer,  }\item[{const std\+::vector$<$ N $>$ \&}]{Nodes,  }\item[{int}]{num\+\_\+rays,  }\item[{float}]{upward\+\_\+limit = {\ttfamily 50.0f},  }\item[{float}]{downward\+\_\+limit = {\ttfamily 70.0f},  }\item[{float}]{height = {\ttfamily 1.7f} }\end{DoxyParamCaption})}



{\ttfamily \#include $<$\mbox{\hyperlink{a00026}{Cpp/analysismethods/src/view\+\_\+analysis.\+h}}$>$}



Conduct view analysis with any Raytracer in parallel. 


\begin{DoxyParams}{Parameters}
{\em ray\+\_\+tracer} & A valid raytracer that already has the geometry loaded. \\
\hline
{\em Nodes} & Points to perform analysis from. \\
\hline
{\em num\+\_\+rays} & The number of rays to cast from each point in nodes. The actual amount of rays cast may be less or more than this number. \\
\hline
{\em upward\+\_\+limit} & Maximum angle in degrees to cast rays above the viewpoint. \\
\hline
{\em downward\+\_\+limit} & Maximum angle in degrees to cast rays below the viewpoint. \\
\hline
{\em height} & Height off the ground to cast from. All points in Nodes will be offset this distance from the ground (+Z) before calculations are performed\\
\hline
\end{DoxyParams}

\begin{DoxyTemplParams}{Template Parameters}
{\em R\+ES} & A class or struct that has a .Set\+Hit() function. This function will be called with the node, direction, distance to intersection, and Mesh\+ID intersected for every ray that intersects geometry.\\
\hline
{\em RT} & A Raytracer with Fire\+Any\+Ray defined for the type of N. \\
\hline
{\em N} & A point that overloads \mbox{[}\mbox{]} for 0, 1 and 2.\\
\hline
\end{DoxyTemplParams}
\begin{DoxyReturn}{Returns}
An {\itshape approximately} num\+\_\+rays $\ast$ Nodes.\+size() long vector of R\+ES with one element for every ray fired. Results will be laid out in order with the first node\textquotesingle{}s results first, then the second, etc. Every ray that intersected something, and all elements that didn\textquotesingle{}t result in an intersection will left at their default values.
\end{DoxyReturn}
\mbox{\hyperlink{a00275}{View\+Analysis}} is calculated by casting a series of rays equally distributed in a sphere from each point in Nodes. This function will run in parallel using all available cores. Depending on R\+ES, this function\textquotesingle{}s complexity and results can vary.


\begin{DoxyExceptions}{Exceptions}
{\em std\+::bad\+\_\+array\+\_\+new\+\_\+length} & The number of rays is larger than that which can be stored in a std\+::vector.\\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{a00270_ga9fc392fe8fc058674ffd5f4c8273a714}{Fibbonacci\+Distribute\+Points}} For details on how the directions are calculated from num\+\_\+rays. 

\mbox{\hyperlink{a00270_ga249100bce7370ba4202f47294f179f81}{Spherical\+Rayshoot\+With\+Any\+R\+T\+For\+Distance}} for a more efficent method of getting a summary of the results.
\end{DoxySeeAlso}
\begin{DoxyParagraph}{Example}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Requires \#include "view\_analysis.h"}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Use this so we can fit within 80 characters}}
\DoxyCodeLine{\textcolor{keyword}{using} \mbox{\hyperlink{a00270_ga8090bf1d24c0cff934daba1c76d82ba6}{HF::AnalysisMethods::ViewAnalysis::SphericalViewAnalysis}};}
\DoxyCodeLine{\textcolor{keyword}{using} \mbox{\hyperlink{a01163}{HF::RayTracer::EmbreeRayTracer}};}
\DoxyCodeLine{\textcolor{keyword}{using} \mbox{\hyperlink{a01127}{HF::Geometry::MeshInfo}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Create Plane}}
\DoxyCodeLine{\textcolor{keyword}{const} std::vector<float> plane\_vertices\{}
\DoxyCodeLine{    -\/10.0f, 10.0f, 0.0f,}
\DoxyCodeLine{    -\/10.0f, -\/10.0f, 0.0f,}
\DoxyCodeLine{    10.0f, 10.0f, 0.0f,}
\DoxyCodeLine{    10.0f, -\/10.0f, 0.0f,}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const} std::vector<int> plane\_indices\{ 3, 1, 0, 2, 3, 0 \};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Create RayTracer}}
\DoxyCodeLine{EmbreeRayTracer ert(std::vector<MeshInfo>\{}
\DoxyCodeLine{    MeshInfo(plane\_vertices, plane\_indices, 0, \textcolor{stringliteral}{" "})\}}
\DoxyCodeLine{);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Define a struct that only stores the distance when sethit is called.}}
\DoxyCodeLine{\textcolor{keyword}{struct }SampleResults \{}
\DoxyCodeLine{    \textcolor{keywordtype}{float} dist = -\/1.0f;}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keyword}{inline} \textcolor{keywordtype}{void} SetHit(}
\DoxyCodeLine{        \textcolor{keyword}{const} std::array<float, 3> \& node,}
\DoxyCodeLine{        \textcolor{keyword}{const} std::array<float, 3> \& direction,}
\DoxyCodeLine{        \textcolor{keywordtype}{float} distance,}
\DoxyCodeLine{        \textcolor{keywordtype}{int} meshID}
\DoxyCodeLine{    ) \{}
\DoxyCodeLine{        dist = distance;}
\DoxyCodeLine{    \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Define observer points}}
\DoxyCodeLine{std::vector<std::array<float, 3>> points\{}
\DoxyCodeLine{    \{0,0,0\}, \{1,1,0\}, \{1,2,0\}, \{1000, 1000, 0\}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Perform View Analysis}}
\DoxyCodeLine{\textcolor{keywordtype}{int} num\_rays = 50;}
\DoxyCodeLine{\textcolor{keyword}{auto} results = SphericalViewAnalysis<SampleResults>(ert, points, num\_rays);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Determine how many directions there were since there may have been less than}}
\DoxyCodeLine{\textcolor{comment}{// what we specified}}
\DoxyCodeLine{\textcolor{keywordtype}{int} num\_directions = results.size() / points.size();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Construct a vector from the results of the first node}}
\DoxyCodeLine{std::vector<SampleResults> first\_results(}
\DoxyCodeLine{    results.begin(), results.begin() + num\_directions}
\DoxyCodeLine{);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Print Results}}
\DoxyCodeLine{std::cerr << \textcolor{stringliteral}{"("};}
\DoxyCodeLine{\textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < first\_results.size(); i++) \{}
\DoxyCodeLine{    \textcolor{keyword}{const} \textcolor{keyword}{auto} \& result = first\_results[i];}
\DoxyCodeLine{    std::cerr << result.dist;}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (i != first\_results.size() -\/ 1) std::cerr << \textcolor{stringliteral}{", "};}
\DoxyCodeLine{\}}
\DoxyCodeLine{std::cerr << \textcolor{stringliteral}{")"} << std::endl;}
\end{DoxyCode}

\end{DoxyParagraph}
{\ttfamily $>$$>$$>$ (-\/1, 7.\+35812, -\/1, -\/1, 3.\+70356, -\/1, 5.\+56647, 12.\+1517, -\/1, 2.\+36725, -\/1, -\/1, 2.\+97477, 2.\+58713, -\/1,} {\ttfamily -\/1, 1.\+91404, 5.\+95885, 4.\+26368, 1.\+86167, -\/1, -\/1, 2.\+0406, 2.\+78304, -\/1, -\/1, -\/1, -\/1, 2.\+83909, 2.\+05302,} {\ttfamily -\/1, -\/1, 1.\+90724, 4.\+29017, 6.\+3381, 1.\+98544, -\/1, -\/1, 2.\+75554, 3.\+15929, -\/1, -\/1, 2.\+6345, -\/1, -\/1,} {\ttfamily 6.\+80486, -\/1, 5.\+12012, -\/1)}

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{a00263__todo000013}{Todo}}]Should this have a height check like the one in the \mbox{\hyperlink{a00278}{Visibility\+Graph}}?\end{DoxyRefDesc}


Definition at line 357 of file view\+\_\+analysis.\+h.



References H\+F\+::\+Analysis\+Methods\+::\+View\+Analysis\+::\+Fibbonacci\+Distribute\+Points().

\mbox{\Hypertarget{a00270_ga94d3ddc3981020e2852fc77e51266185}\label{a00270_ga94d3ddc3981020e2852fc77e51266185}} 
\index{ViewAnalysis@{ViewAnalysis}!SphericalViewAnalysisNoAggregate@{SphericalViewAnalysisNoAggregate}}
\index{SphericalViewAnalysisNoAggregate@{SphericalViewAnalysisNoAggregate}!ViewAnalysis@{ViewAnalysis}}
\doxysubsubsection{\texorpdfstring{SphericalViewAnalysisNoAggregate()}{SphericalViewAnalysisNoAggregate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{a00254_a91fa3b2bb3a7312ec39d74cc1fbc7bbe}{C\+\_\+\+I\+N\+T\+E\+R\+F\+A\+CE}} Spherical\+View\+Analysis\+No\+Aggregate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{a01163}{H\+F\+::\+Ray\+Tracer\+::\+Embree\+Ray\+Tracer}} $\ast$}]{E\+RT,  }\item[{const \mbox{\hyperlink{a01203}{H\+F\+::\+Spatial\+Structures\+::\+Node}} $\ast$}]{node\+\_\+ptr,  }\item[{int}]{node\+\_\+size,  }\item[{int $\ast$}]{max\+\_\+rays,  }\item[{float}]{upward\+\_\+fov,  }\item[{float}]{downward\+\_\+fov,  }\item[{float}]{height,  }\item[{std\+::vector$<$ \mbox{\hyperlink{a01219}{Ray\+Result}} $>$ $\ast$$\ast$}]{out\+\_\+results,  }\item[{\mbox{\hyperlink{a01219}{Ray\+Result}} $\ast$$\ast$}]{out\+\_\+results\+\_\+ptr }\end{DoxyParamCaption})}



{\ttfamily \#include $<$\mbox{\hyperlink{a00254}{Cinterface/view\+\_\+analysis\+\_\+\+C.\+h}}$>$}



Perform view analysis and recieve the distance and meshid for each individual ray. 


\begin{DoxyParams}{Parameters}
{\em E\+RT} & Raytracer to fire rays from. \\
\hline
{\em node\+\_\+ptr} & Positions to perform view analysis from . \\
\hline
{\em node\+\_\+size} & Number of nodes in node\+\_\+ptr. \\
\hline
{\em max\+\_\+rays} & Number of rays to fire per node. \\
\hline
{\em upward\+\_\+fov} & Maximum degrees upward from the viewer\textquotesingle{}s eye level to consider. \\
\hline
{\em downward\+\_\+fov} & Maximum degrees downward from the viewer\textquotesingle{}s eye level to consider. \\
\hline
{\em height} & Height to offset nodes to. \\
\hline
{\em out\+\_\+results} & Vector to store results in. \\
\hline
{\em out\+\_\+results\+\_\+ptr} & Pointer to the result vector\textquotesingle{}s data. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+F\+\_\+\+S\+T\+A\+T\+U\+S\+::\+OK on vomplryion. 
\end{DoxyReturn}


Definition at line 73 of file view\+\_\+analysis\+\_\+\+C.\+cpp.



References H\+F\+::\+Exceptions\+::\+OK.

\mbox{\Hypertarget{a00270_ga348af4492f3e4e7ffab6da3e86de3924}\label{a00270_ga348af4492f3e4e7ffab6da3e86de3924}} 
\index{ViewAnalysis@{ViewAnalysis}!SphericalViewAnalysisNoAggregateFlat@{SphericalViewAnalysisNoAggregateFlat}}
\index{SphericalViewAnalysisNoAggregateFlat@{SphericalViewAnalysisNoAggregateFlat}!ViewAnalysis@{ViewAnalysis}}
\doxysubsubsection{\texorpdfstring{SphericalViewAnalysisNoAggregateFlat()}{SphericalViewAnalysisNoAggregateFlat()}}
{\footnotesize\ttfamily \mbox{\hyperlink{a00254_a91fa3b2bb3a7312ec39d74cc1fbc7bbe}{C\+\_\+\+I\+N\+T\+E\+R\+F\+A\+CE}} Spherical\+View\+Analysis\+No\+Aggregate\+Flat (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{a01163}{H\+F\+::\+Ray\+Tracer\+::\+Embree\+Ray\+Tracer}} $\ast$}]{E\+RT,  }\item[{const float $\ast$}]{node\+\_\+ptr,  }\item[{int}]{node\+\_\+size,  }\item[{int $\ast$}]{max\+\_\+rays,  }\item[{float}]{upward\+\_\+fov,  }\item[{float}]{downward\+\_\+fov,  }\item[{float}]{height,  }\item[{std\+::vector$<$ \mbox{\hyperlink{a01219}{Ray\+Result}} $>$ $\ast$$\ast$}]{out\+\_\+results,  }\item[{\mbox{\hyperlink{a01219}{Ray\+Result}} $\ast$$\ast$}]{out\+\_\+results\+\_\+ptr }\end{DoxyParamCaption})}



{\ttfamily \#include $<$\mbox{\hyperlink{a00254}{Cinterface/view\+\_\+analysis\+\_\+\+C.\+h}}$>$}



Perform view analysis and recieve the distance and meshid for each individual ray. 


\begin{DoxyParams}{Parameters}
{\em E\+RT} & Raytracer to fire all rays from. \\
\hline
{\em node\+\_\+ptr} & Positions to perform view analysis from as a flat array of floats. Each 3 floats should represent a new point. \\
\hline
{\em node\+\_\+size} & Number of nodes in the array pointed at by node\+\_\+ptr. Should be equal to the length of node\+\_\+ptr/3. \\
\hline
{\em max\+\_\+rays} & Number of rays to evenly distribute in a sphere. \\
\hline
{\em upward\+\_\+fov} & Maximum degrees upward from the viewer\textquotesingle{}s eye level to consider. \\
\hline
{\em downward\+\_\+fov} & Maximum degrees downward from the viewer\textquotesingle{}s eye level to consider. \\
\hline
{\em height} & Height to offset nodes from the ground. \\
\hline
{\em out\+\_\+scores} & Output parameter for score vector. \\
\hline
{\em out\+\_\+scores\+\_\+ptr} & Output parameter for the score vector\textquotesingle{}s underlying data. \\
\hline
{\em out\+\_\+scores\+\_\+size} & Number of elements in the output vector. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H\+F\+\_\+\+S\+T\+A\+T\+U\+S\+::\+OK on completion. 
\end{DoxyReturn}


Definition at line 105 of file view\+\_\+analysis\+\_\+\+C.\+cpp.



References Convert\+Raw\+Float\+Array\+To\+Points(), and H\+F\+::\+Exceptions\+::\+OK.

