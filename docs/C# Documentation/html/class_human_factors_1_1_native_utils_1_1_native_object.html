<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Analysis: HumanFactors.NativeUtils.NativeObject Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Analysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_human_factors.html">HumanFactors</a></li><li class="navelem"><a class="el" href="namespace_human_factors_1_1_native_utils.html">NativeUtils</a></li><li class="navelem"><a class="el" href="class_human_factors_1_1_native_utils_1_1_native_object.html">NativeObject</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pac-methods">Package Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="class_human_factors_1_1_native_utils_1_1_native_object-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HumanFactors.NativeUtils.NativeObject Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An object that holds a pointer to unmanaged memory or some other resource that must be freed.  
 <a href="class_human_factors_1_1_native_utils_1_1_native_object.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for HumanFactors.NativeUtils.NativeObject:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_human_factors_1_1_native_utils_1_1_native_object__inherit__graph.svg" width="1056" height="235"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for HumanFactors.NativeUtils.NativeObject:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_human_factors_1_1_native_utils_1_1_native_object__coll__graph.svg" width="294" height="142"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a39dc264c3bdfaf23655dc2c6b0970609"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_native_utils_1_1_native_object.html#a39dc264c3bdfaf23655dc2c6b0970609">UpdatePressure</a> (int new_pressure)</td></tr>
<tr class="memdesc:a39dc264c3bdfaf23655dc2c6b0970609"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the pressure of this object.  <a href="class_human_factors_1_1_native_utils_1_1_native_object.html#a39dc264c3bdfaf23655dc2c6b0970609">More...</a><br /></td></tr>
<tr class="separator:a39dc264c3bdfaf23655dc2c6b0970609"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a46b2320d66a2b0405024db48f376b72c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_native_utils_1_1_native_object.html#a46b2320d66a2b0405024db48f376b72c">pressure</a></td></tr>
<tr class="memdesc:a46b2320d66a2b0405024db48f376b72c"><td class="mdescLeft">&#160;</td><td class="mdescRight">the size of the object pointed to in unmanaged memory in bytes. Used to exert pressure on the GC.  <a href="class_human_factors_1_1_native_utils_1_1_native_object.html#a46b2320d66a2b0405024db48f376b72c">More...</a><br /></td></tr>
<tr class="separator:a46b2320d66a2b0405024db48f376b72c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33340c37b83300ec09f6fc7982d2fb70"><td class="memItemLeft" align="right" valign="top">override bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_native_utils_1_1_native_object.html#a33340c37b83300ec09f6fc7982d2fb70">IsInvalid</a> =&gt; false</td></tr>
<tr class="memdesc:a33340c37b83300ec09f6fc7982d2fb70"><td class="mdescLeft">&#160;</td><td class="mdescRight">There is no way to invalidate this class without destroying it, so will always return false.  <a href="class_human_factors_1_1_native_utils_1_1_native_object.html#a33340c37b83300ec09f6fc7982d2fb70">More...</a><br /></td></tr>
<tr class="separator:a33340c37b83300ec09f6fc7982d2fb70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-methods"></a>
Package Functions</h2></td></tr>
<tr class="memitem:ae7f34573598d48a9ef666b96895c7201"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_native_utils_1_1_native_object.html#ae7f34573598d48a9ef666b96895c7201">NativeObject</a> (IntPtr in_native_pointer, int in_pressure=0)</td></tr>
<tr class="memdesc:ae7f34573598d48a9ef666b96895c7201"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a container to manage the lifetime of an object in native memory.  <a href="class_human_factors_1_1_native_utils_1_1_native_object.html#ae7f34573598d48a9ef666b96895c7201">More...</a><br /></td></tr>
<tr class="separator:ae7f34573598d48a9ef666b96895c7201"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:aa58c089e79cb4acc260755a41952d3d6"><td class="memItemLeft" align="right" valign="top">IntPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_native_utils_1_1_native_object.html#aa58c089e79cb4acc260755a41952d3d6">Pointer</a><code> [get]</code></td></tr>
<tr class="memdesc:aa58c089e79cb4acc260755a41952d3d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the object in unmanaged memory.  <a href="class_human_factors_1_1_native_utils_1_1_native_object.html#aa58c089e79cb4acc260755a41952d3d6">More...</a><br /></td></tr>
<tr class="separator:aa58c089e79cb4acc260755a41952d3d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a062ff788763ba2ad52a7c20000c8ecd8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_human_factors_1_1_native_utils_1_1_native_object.html#a062ff788763ba2ad52a7c20000c8ecd8">~NativeObject</a> ()</td></tr>
<tr class="memdesc:a062ff788763ba2ad52a7c20000c8ecd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy this object and free the memory of the native object it contains.  <a href="class_human_factors_1_1_native_utils_1_1_native_object.html#a062ff788763ba2ad52a7c20000c8ecd8">More...</a><br /></td></tr>
<tr class="separator:a062ff788763ba2ad52a7c20000c8ecd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An object that holds a pointer to unmanaged memory or some other resource that must be freed. </p>
<p>An implementation of Safehandle, able to report it'ssize to the garbage collector to improve performance.</p>
<dl class="section remark"><dt>Remarks</dt><dd>All uses of pointers to native objects in this library will be wrapped by this, since it ensures that no memory is leaked under any circumstances (providing that the implementation of native functionality is correct).</dd></dl>
<dl class="section user"><dt>Garbage Collection Info</dt><dd>In the constructor of this object, pressure is added to the C# garbage collector equal to the size in bytes of the object in native memory this <a class="el" href="class_human_factors_1_1_native_utils_1_1_native_object.html" title="An object that holds a pointer to unmanaged memory or some other resource that must be freed.">NativeObject</a> points to. This allows it to integrate with the C# garbage collector so it can tactically choose when to deallocate the memory of certain objects. With this implementation, this library maintains the benefits of the C# garbage collector. This follows a pattern specified by the official C# documentation: <a href="https://docs.microsoft.com/en-us/dotnet/api/system.gc.addmemorypressure?view=netcore-3.1in">https://docs.microsoft.com/en-us/dotnet/api/system.gc.addmemorypressure?view=netcore-3.1in</a> More can be read about the garbage collector in microsoft's official documentation for it: <a href="https://docs.microsoft.com/en-us/dotnet/standard/garbage-collection/fundamentals">https://docs.microsoft.com/en-us/dotnet/standard/garbage-collection/fundamentals</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_pointer_holder_8cs_source.html#l00058">58</a> of file <a class="el" href="_pointer_holder_8cs_source.html">PointerHolder.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae7f34573598d48a9ef666b96895c7201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7f34573598d48a9ef666b96895c7201">&#9670;&nbsp;</a></span>NativeObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HumanFactors.NativeUtils.NativeObject.NativeObject </td>
          <td>(</td>
          <td class="paramtype">IntPtr&#160;</td>
          <td class="paramname"><em>in_native_pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_pressure</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a container to manage the lifetime of an object in native memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_native_pointer</td><td>Pointer to the held object in unmanaged memory.</td></tr>
    <tr><td class="paramname">in_pressure</td><td>The size of the unmanaged object in bytes. This is used for tuning the garbage collector. If this is 0 or lower, the garbage collector will be unaffected.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>While it is allowed for pressure to not be specified, it is highly recommended to provide atleast an estimation of the size of the object. Multiple objects that don't assert the proper pressure can lead to garbage collector trying to deallocate multiple large objects at the same time, resulting in a delay in execution to clients. C# Works best when it knows how much memory each object holds so it can tactically delete things at the optimal time. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_pointer_holder_8cs_source.html#l00086">86</a> of file <a class="el" href="_pointer_holder_8cs_source.html">PointerHolder.cs</a>.</p>

<p class="reference">References <a class="el" href="_pointer_holder_8cs_source.html#l00064">HumanFactors.NativeUtils.NativeObject.pressure</a>.</p>

</div>
</div>
<a id="a062ff788763ba2ad52a7c20000c8ecd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a062ff788763ba2ad52a7c20000c8ecd8">&#9670;&nbsp;</a></span>~NativeObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HumanFactors.NativeUtils.NativeObject.~NativeObject </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy this object and free the memory of the native object it contains. </p>

<p class="definition">Definition at line <a class="el" href="_pointer_holder_8cs_source.html#l00113">113</a> of file <a class="el" href="_pointer_holder_8cs_source.html">PointerHolder.cs</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a39dc264c3bdfaf23655dc2c6b0970609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39dc264c3bdfaf23655dc2c6b0970609">&#9670;&nbsp;</a></span>UpdatePressure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HumanFactors.NativeUtils.NativeObject.UpdatePressure </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>new_pressure</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the pressure of this object. </p>

<p class="definition">Definition at line <a class="el" href="_pointer_holder_8cs_source.html#l00100">100</a> of file <a class="el" href="_pointer_holder_8cs_source.html">PointerHolder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_embree_b_v_h_8cs_source.html#l00118">HumanFactors.RayTracing.EmbreeBVH.AddMesh()</a>, <a class="el" href="_embree_b_v_h_8cs_source.html#l00082">HumanFactors.RayTracing.EmbreeBVH.EmbreeBVH()</a>, and <a class="el" href="_mesh_info_8cs_source.html#l00120">HumanFactors.Geometry.MeshInfo.MeshInfo()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_human_factors_1_1_native_utils_1_1_native_object_a39dc264c3bdfaf23655dc2c6b0970609_icgraph.svg" width="455" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a33340c37b83300ec09f6fc7982d2fb70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33340c37b83300ec09f6fc7982d2fb70">&#9670;&nbsp;</a></span>IsInvalid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override bool HumanFactors.NativeUtils.NativeObject.IsInvalid =&gt; false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>There is no way to invalidate this class without destroying it, so will always return false. </p>

<p class="definition">Definition at line <a class="el" href="_pointer_holder_8cs_source.html#l00097">97</a> of file <a class="el" href="_pointer_holder_8cs_source.html">PointerHolder.cs</a>.</p>

</div>
</div>
<a id="a46b2320d66a2b0405024db48f376b72c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46b2320d66a2b0405024db48f376b72c">&#9670;&nbsp;</a></span>pressure</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HumanFactors.NativeUtils.NativeObject.pressure</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the size of the object pointed to in unmanaged memory in bytes. Used to exert pressure on the GC. </p>
<p>While not mandatory, accurately setting this will improve the performance of the garbage collector. </p>

<p class="definition">Definition at line <a class="el" href="_pointer_holder_8cs_source.html#l00064">64</a> of file <a class="el" href="_pointer_holder_8cs_source.html">PointerHolder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_embree_b_v_h_8cs_source.html#l00118">HumanFactors.RayTracing.EmbreeBVH.AddMesh()</a>, <a class="el" href="_embree_b_v_h_8cs_source.html#l00082">HumanFactors.RayTracing.EmbreeBVH.EmbreeBVH()</a>, and <a class="el" href="_pointer_holder_8cs_source.html#l00086">HumanFactors.NativeUtils.NativeObject.NativeObject()</a>.</p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="aa58c089e79cb4acc260755a41952d3d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa58c089e79cb4acc260755a41952d3d6">&#9670;&nbsp;</a></span>Pointer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IntPtr HumanFactors.NativeUtils.NativeObject.Pointer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the object in unmanaged memory. </p>

<p class="definition">Definition at line <a class="el" href="_pointer_holder_8cs_source.html#l00067">67</a> of file <a class="el" href="_pointer_holder_8cs_source.html">PointerHolder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_embree_b_v_h_8cs_source.html#l00118">HumanFactors.RayTracing.EmbreeBVH.AddMesh()</a>, <a class="el" href="_graph_8cs_source.html#l00434">HumanFactors.SpatialStructures.Graph.AddNodeAttribute()</a>, <a class="el" href="_shortest_path_8cs_source.html#l00336">HumanFactors.Pathfinding.ShortestPath.DijkstraAllToAll()</a>, <a class="el" href="_shortest_path_8cs_source.html#l00083">HumanFactors.Pathfinding.ShortestPath.DijkstraShortestPath()</a>, <a class="el" href="_shortest_path_8cs_source.html#l00183">HumanFactors.Pathfinding.ShortestPath.DijkstraShortestPathMulti()</a>, <a class="el" href="_visibility_graph_8cs_source.html#l00073">HumanFactors.VisibilityGraph.VisibilityGraph.GenerateAllToAll()</a>, <a class="el" href="_graph_generator_8cs_source.html#l00083">HumanFactors.GraphGenerator.GraphGenerator.GenerateGraph()</a>, <a class="el" href="_visibility_graph_8cs_source.html#l00127">HumanFactors.VisibilityGraph.VisibilityGraph.GenerateGroupToGroup()</a>, <a class="el" href="_shortest_path_8cs_source.html#l00392">HumanFactors.Pathfinding.ShortestPath.GeneratePredecessorAndDistanceMatricies()</a>, <a class="el" href="_embree_b_v_h_8cs_source.html#l00067">HumanFactors.RayTracing.EmbreeBVH.getMeshInfoPtrs()</a>, <a class="el" href="_mesh_info_8cs_source.html#l00103">HumanFactors.Geometry.MeshInfo.ReleaseHandle()</a>, and <a class="el" href="_mesh_info_8cs_source.html#l00073">HumanFactors.Geometry.MeshInfo.UpdateIDNameAndArrays()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/Csharp/packages/base/src/<a class="el" href="_pointer_holder_8cs_source.html">PointerHolder.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
