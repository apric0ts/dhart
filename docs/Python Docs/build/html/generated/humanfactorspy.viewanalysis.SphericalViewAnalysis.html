<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>humanfactorspy.viewanalysis.SphericalViewAnalysis &mdash; Human Metrics 0.0.1 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" >
    <link rel="search" title="Search" href="../search.html" >
    <link rel="top" title="Human Metrics 0.0.1 documentation" href="../index.html" >
    <link rel="up" title="humanfactorspy.viewanalysis" href="humanfactorspy.viewanalysis.html" >
    <link rel="next" title="humanfactorspy.viewanalysis.SphericalViewAnalysisAggregate" href="humanfactorspy.viewanalysis.SphericalViewAnalysisAggregate.html" >
    <link rel="prev" title="humanfactorspy.viewanalysis.ViewAnalysisDirections.delete_fp" href="humanfactorspy.viewanalysis.ViewAnalysisDirections.delete_fp.html" > 
  </head>
  <body>

  <div class="container">
    <div class="header">
    </div>
  </div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="http://">Git</a></li>
	
        <li class="active"><a href="../index.html">Human Metrics 0.0.1 documentation</a></li>
	
          <li class="active"><a href="../code.html" >Code Reference</a></li>
          <li class="active"><a href="humanfactorspy.viewanalysis.html" accesskey="U">humanfactorspy.viewanalysis</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="humanfactorspy.viewanalysis.SphericalViewAnalysisAggregate.html" title="humanfactorspy.viewanalysis.SphericalViewAnalysisAggregate"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="humanfactorspy.viewanalysis.ViewAnalysisDirections.delete_fp.html" title="humanfactorspy.viewanalysis.ViewAnalysisDirections.delete_fp"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="humanfactorspy-viewanalysis-sphericalviewanalysis">
<h1>humanfactorspy.viewanalysis.SphericalViewAnalysis<a class="headerlink" href="#humanfactorspy-viewanalysis-sphericalviewanalysis" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="humanfactorspy.viewanalysis.SphericalViewAnalysis">
<code class="descclassname">humanfactorspy.viewanalysis.</code><code class="descname">SphericalViewAnalysis</code><span class="sig-paren">(</span><em><span class="n">bvh</span><span class="p">:</span> <span class="n">humanfactorspy.raytracer.embree_bvh.EmbreeBVH</span></em>, <em><span class="n">nodes</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>List<span class="p">[</span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span><span class="p">, </span>humanfactorspy.spatialstructures.node.NodeList<span class="p">]</span></span></em>, <em><span class="n">ray_count</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span></em>, <em><span class="n">height</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span></em>, <em><span class="n">upward_fov</span><span class="o">=</span><span class="default_value">50</span></em>, <em><span class="n">downward_fov</span><span class="o">=</span><span class="default_value">70</span></em><span class="sig-paren">)</span> &#x2192; humanfactorspy.raytracer.embree_raytracer.RayResultList<a class="reference external" href="https://github.com/cadop/HumanMetrics/blob/master/Codebase/HumanFactors/humanfactorspy/..\build\Python\humanfactorspy\viewanalysis\view_analysis.py#L106-L181"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#humanfactorspy.viewanalysis.SphericalViewAnalysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Conduct view analysis on every node in nodes and return the result of every ray fired</p>
<p>The actual number of rays fired may be slightly more or less than the amount specified,
based on the fov limitations specified. The direction each ray was fired in can be
retrieved from the function SphericallyDistributeRays.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bvh</strong> – the BVH for the geometry you’re shooting at</li>
<li><strong>nodes</strong> – A list of tuples containing x,y,z coordinates of points to analyze</li>
<li><strong>ray_count</strong> – Amount of rays to shoot, evenly distributed in a sphere around the center</li>
<li><strong>upward_fov</strong> – maximum angle up from the user’s eyelevel to be considred</li>
<li><strong>downward_fov</strong> – maximum angle down from the user’s eyelevel  to be considred</li>
<li><strong>height</strong> – height to offset nodes from the ground in meters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of results of shape (ray_count, len(nodes))</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">RayResult</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Conducting view analysis on 2 nodes firing 10 rays.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">humanfactorspy.geometry</span> <span class="kn">import</span> <span class="n">LoadOBJ</span><span class="p">,</span> <span class="n">MeshInfo</span><span class="p">,</span> <span class="n">CommonRotations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">humanfactorspy.raytracer</span> <span class="kn">import</span> <span class="n">EmbreeBVH</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">humanfactorspy.geometry.mesh_info</span> <span class="kn">import</span> <span class="n">ConstructPlane</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">humanfactorspy.viewanalysis</span> <span class="kn">import</span> <span class="n">SphericalViewAnalysis</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MI</span> <span class="o">=</span> <span class="n">ConstructPlane</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MI</span><span class="o">.</span><span class="n">Rotate</span><span class="p">(</span><span class="n">CommonRotations</span><span class="o">.</span><span class="n">Zup_to_Yup</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BVH</span> <span class="o">=</span> <span class="n">EmbreeBVH</span><span class="p">(</span><span class="n">MI</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">origins</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">va</span> <span class="o">=</span> <span class="n">SphericalViewAnalysis</span><span class="p">(</span><span class="n">BVH</span><span class="p">,</span> <span class="n">origins</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">1.7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">va</span><span class="p">)</span>
<span class="go">[[(-1.      , -1) (-1.      , -1) (-1.      , -1) (-1.      , -1)</span>
<span class="go">  (-1.      , -1) ( 5.40725 , 39) (-1.      , -1) (-1.      , -1)</span>
<span class="go">  ( 3.529445, 39) (-1.      , -1)]</span>
<span class="go"> [(-1.      , -1) (-1.      , -1) (-1.      , -1) (-1.      , -1)</span>
<span class="go">  (-1.      , -1) ( 5.40725 , 39) (-1.      , -1) (-1.      , -1)</span>
<span class="go">  ( 3.529445, 39) (-1.      , -1)]]</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="humanfactorspy.viewanalysis.ViewAnalysisDirections.delete_fp.html"
                        title="previous chapter">humanfactorspy.viewanalysis.ViewAnalysisDirections.delete_fp</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="humanfactorspy.viewanalysis.SphericalViewAnalysisAggregate.html"
                        title="next chapter">humanfactorspy.viewanalysis.SphericalViewAnalysisAggregate</a></p>

        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2020.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.1.2.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>